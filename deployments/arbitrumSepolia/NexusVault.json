{
  "address": "0xcb310b216BCE07C13D4809634F6C230A629cEec2",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_usdc",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_agentAddress",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_signalOracle",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_positionRegistry",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_priceOracle",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_gmxPositionRouter",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_gmxVault",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "OwnableInvalidOwner",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "OwnableUnauthorizedAccount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ReentrancyGuardReentrantCall",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "oldAgent",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newAgent",
          "type": "address"
        }
      ],
      "name": "AgentUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "positionId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "destinationChain",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amountUSDC",
          "type": "uint256"
        }
      ],
      "name": "BridgeBackInitiated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "string",
          "name": "sourceChain",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amountUSDC",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "lifiTransferId",
          "type": "bytes32"
        }
      ],
      "name": "BridgeInitiated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "string",
          "name": "chain",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "approved",
          "type": "bool"
        }
      ],
      "name": "ChainApproved",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "Deposit",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "positionId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "exitPrice",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "int256",
          "name": "pnlUSDC",
          "type": "int256"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "isProfit",
          "type": "bool"
        }
      ],
      "name": "DipBuyClosed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "positionId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "tokensReceived",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "executionPrice",
          "type": "uint256"
        }
      ],
      "name": "DipBuyExecuted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "positionId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "chain",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amountUSDC",
          "type": "uint256"
        }
      ],
      "name": "DipBuyInitiated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "EmergencyWithdraw",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "positionKey",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "isExecuted",
          "type": "bool"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "isIncrease",
          "type": "bool"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "nexusPositionId",
          "type": "uint256"
        }
      ],
      "name": "GMXCallbackReceived",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "transactionId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "sourceChain",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "destinationChainId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amountUSDC",
          "type": "uint256"
        }
      ],
      "name": "LiFiBridgeExecuted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "positionId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "minExitPrice",
          "type": "uint256"
        }
      ],
      "name": "PositionCloseRequested",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "positionId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "exitPrice",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "int256",
          "name": "pnlUSDC",
          "type": "int256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "finalUSDC",
          "type": "uint256"
        }
      ],
      "name": "PositionClosed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "positionId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "indexToken",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "collateralUSDC",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "positionSizeUSD",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "leverage",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint16",
          "name": "confidenceScore",
          "type": "uint16"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "gmxPositionKey",
          "type": "bytes32"
        }
      ],
      "name": "ShortExecuted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "approved",
          "type": "bool"
        }
      ],
      "name": "TokenApproved",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "DEFAULT_LEVERAGE",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "GMX_PRICE_PRECISION",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "MAX_DIP_BUY_PERCENT",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "MAX_POSITION_PERCENT",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "MIN_CONFIDENCE_SCORE",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "USDC",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "agentAddress",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "chain",
          "type": "string"
        },
        {
          "internalType": "bool",
          "name": "approved",
          "type": "bool"
        }
      ],
      "name": "approveChain",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "approved",
          "type": "bool"
        }
      ],
      "name": "approveToken",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "name": "approvedChains",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "approvedTokens",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "positionId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "exitPrice",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "lifiCalldata",
          "type": "bytes"
        }
      ],
      "name": "closeDipBuy",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "positionId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "minExitPrice",
          "type": "uint256"
        }
      ],
      "name": "closePosition",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "deposit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "dipBuyCounter",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "dipBuyPositions",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "chain",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "entryPrice",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "sizeTokens",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "sizeUSDC",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "takeProfitPrice",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "stopLossPrice",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "entryTimestamp",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isOpen",
          "type": "bool"
        },
        {
          "internalType": "string",
          "name": "sourceChain",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "emergencyWithdraw",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "chain",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "amountUSDC",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "minTokensOut",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "takeProfitPrice",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "stopLossPrice",
          "type": "uint256"
        }
      ],
      "name": "executeDipBuy",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "positionId",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "indexToken",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amountUSDC",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "leverage",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "acceptablePrice",
          "type": "uint256"
        }
      ],
      "name": "executeShort",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "positionId",
          "type": "uint256"
        }
      ],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "positionId",
          "type": "uint256"
        }
      ],
      "name": "getGMXPositionInfo",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "size",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "collateral",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "averagePrice",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "hasProfit",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "delta",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getOpenDipBuys",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "id",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "token",
              "type": "address"
            },
            {
              "internalType": "string",
              "name": "chain",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "entryPrice",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "sizeTokens",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "sizeUSDC",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "takeProfitPrice",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "stopLossPrice",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "entryTimestamp",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "isOpen",
              "type": "bool"
            },
            {
              "internalType": "string",
              "name": "sourceChain",
              "type": "string"
            }
          ],
          "internalType": "struct NexusVault.DipBuyPosition[]",
          "name": "",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getOpenPositions",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "id",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "indexToken",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "collateralUSDC",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "positionSizeUSD",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "leverage",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "entryPrice",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "entryTimestamp",
              "type": "uint256"
            },
            {
              "internalType": "bytes32",
              "name": "gmxPositionKey",
              "type": "bytes32"
            },
            {
              "internalType": "bool",
              "name": "isOpen",
              "type": "bool"
            },
            {
              "internalType": "string",
              "name": "sourceChain",
              "type": "string"
            }
          ],
          "internalType": "struct NexusVault.ShortPosition[]",
          "name": "",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getTotalVaultValue",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "gmxKeyToPositionId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "positionKey",
          "type": "bytes32"
        },
        {
          "internalType": "bool",
          "name": "isExecuted",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "isIncrease",
          "type": "bool"
        }
      ],
      "name": "gmxPositionCallback",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "gmxPositionRouter",
      "outputs": [
        {
          "internalType": "contract IGMXPositionRouter",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "gmxVault",
      "outputs": [
        {
          "internalType": "contract IGMXVault",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "paused",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "pendingBridgeBack",
      "outputs": [
        {
          "internalType": "string",
          "name": "destinationChain",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "positionCounter",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "positionRegistry",
      "outputs": [
        {
          "internalType": "contract IPositionRegistry",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "positions",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "indexToken",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "collateralUSDC",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "positionSizeUSD",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "leverage",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "entryPrice",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "entryTimestamp",
          "type": "uint256"
        },
        {
          "internalType": "bytes32",
          "name": "gmxPositionKey",
          "type": "bytes32"
        },
        {
          "internalType": "bool",
          "name": "isOpen",
          "type": "bool"
        },
        {
          "internalType": "string",
          "name": "sourceChain",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "priceOracle",
      "outputs": [
        {
          "internalType": "contract IPriceOracle",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newAgent",
          "type": "address"
        }
      ],
      "name": "setAgentAddress",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bool",
          "name": "_paused",
          "type": "bool"
        }
      ],
      "name": "setPaused",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "signalOracle",
      "outputs": [
        {
          "internalType": "contract ISignalOracle",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "positionId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "tokensReceived",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "executionPrice",
          "type": "uint256"
        }
      ],
      "name": "updateDipBuyExecution",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newRegistry",
          "type": "address"
        }
      ],
      "name": "updatePositionRegistry",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newPriceOracle",
          "type": "address"
        }
      ],
      "name": "updatePriceOracle",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOracle",
          "type": "address"
        }
      ],
      "name": "updateSignalOracle",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0xb4e3c28a4ea56a6c94f22b10a4623cade18b3651a6333831fa12ff463d09ef7e",
  "receipt": {
    "to": null,
    "from": "0x670298e73c5E6735E1fdBeD858Be1d6A26db00b1",
    "contractAddress": "0xcb310b216BCE07C13D4809634F6C230A629cEec2",
    "transactionIndex": 1,
    "gasUsed": "3893578",
    "logsBloom": "0x01000000000000000000000000000000040000000000000000800000004000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000020000000000000000000800000000000000000000000000000000400000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0xe902cc90d3d8a2c943a411574e4300af344a6886fb90bc3e0ee4ec392a285121",
    "transactionHash": "0xb4e3c28a4ea56a6c94f22b10a4623cade18b3651a6333831fa12ff463d09ef7e",
    "logs": [
      {
        "transactionIndex": 1,
        "blockNumber": 240348725,
        "transactionHash": "0xb4e3c28a4ea56a6c94f22b10a4623cade18b3651a6333831fa12ff463d09ef7e",
        "address": "0xcb310b216BCE07C13D4809634F6C230A629cEec2",
        "topics": [
          "0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0",
          "0x0000000000000000000000000000000000000000000000000000000000000000",
          "0x000000000000000000000000670298e73c5e6735e1fdbed858be1d6a26db00b1"
        ],
        "data": "0x",
        "logIndex": 0,
        "blockHash": "0xe902cc90d3d8a2c943a411574e4300af344a6886fb90bc3e0ee4ec392a285121"
      }
    ],
    "blockNumber": 240348725,
    "cumulativeGasUsed": "3893578",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d",
    "0x670298e73c5E6735E1fdBeD858Be1d6A26db00b1",
    "0xDc4D27e9873799f2997E2B7eAC38A135c3C4A559",
    "0x790c8d10b1736deB3a7AfC37956a2F0e40f69BF6",
    "0xd36Fd22d99cd254E46c30ddDde0C17F1a2e4DCD3",
    "0xb87a436B93fFE9D75c5cFA7bAcFff96430b09868",
    "0x489ee077994B6658eAfA855C308275EAd8097C4A"
  ],
  "numDeployments": 3,
  "solcInputHash": "ae409d0e1e3d548f6d0dd373907361bb",
  "metadata": "{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_usdc\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_agentAddress\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_signalOracle\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_positionRegistry\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_priceOracle\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_gmxPositionRouter\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_gmxVault\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"OwnableInvalidOwner\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"OwnableUnauthorizedAccount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ReentrancyGuardReentrantCall\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"oldAgent\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newAgent\",\"type\":\"address\"}],\"name\":\"AgentUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"positionId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"destinationChain\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amountUSDC\",\"type\":\"uint256\"}],\"name\":\"BridgeBackInitiated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"string\",\"name\":\"sourceChain\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amountUSDC\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"lifiTransferId\",\"type\":\"bytes32\"}],\"name\":\"BridgeInitiated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"string\",\"name\":\"chain\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"approved\",\"type\":\"bool\"}],\"name\":\"ChainApproved\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Deposit\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"positionId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"exitPrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"pnlUSDC\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"isProfit\",\"type\":\"bool\"}],\"name\":\"DipBuyClosed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"positionId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tokensReceived\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"executionPrice\",\"type\":\"uint256\"}],\"name\":\"DipBuyExecuted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"positionId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"chain\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amountUSDC\",\"type\":\"uint256\"}],\"name\":\"DipBuyInitiated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"EmergencyWithdraw\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"positionKey\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"isExecuted\",\"type\":\"bool\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"isIncrease\",\"type\":\"bool\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"nexusPositionId\",\"type\":\"uint256\"}],\"name\":\"GMXCallbackReceived\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"transactionId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"sourceChain\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"destinationChainId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amountUSDC\",\"type\":\"uint256\"}],\"name\":\"LiFiBridgeExecuted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"positionId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"minExitPrice\",\"type\":\"uint256\"}],\"name\":\"PositionCloseRequested\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"positionId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"exitPrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"pnlUSDC\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"finalUSDC\",\"type\":\"uint256\"}],\"name\":\"PositionClosed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"positionId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"indexToken\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"collateralUSDC\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"positionSizeUSD\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint16\",\"name\":\"confidenceScore\",\"type\":\"uint16\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"gmxPositionKey\",\"type\":\"bytes32\"}],\"name\":\"ShortExecuted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"approved\",\"type\":\"bool\"}],\"name\":\"TokenApproved\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"DEFAULT_LEVERAGE\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"GMX_PRICE_PRECISION\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MAX_DIP_BUY_PERCENT\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MAX_POSITION_PERCENT\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MIN_CONFIDENCE_SCORE\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"USDC\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"agentAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"chain\",\"type\":\"string\"},{\"internalType\":\"bool\",\"name\":\"approved\",\"type\":\"bool\"}],\"name\":\"approveChain\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"approved\",\"type\":\"bool\"}],\"name\":\"approveToken\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"name\":\"approvedChains\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"approvedTokens\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"positionId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"exitPrice\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"lifiCalldata\",\"type\":\"bytes\"}],\"name\":\"closeDipBuy\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"positionId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"minExitPrice\",\"type\":\"uint256\"}],\"name\":\"closePosition\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"deposit\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"dipBuyCounter\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"dipBuyPositions\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"chain\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"entryPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"sizeTokens\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"sizeUSDC\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"takeProfitPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"stopLossPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"entryTimestamp\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isOpen\",\"type\":\"bool\"},{\"internalType\":\"string\",\"name\":\"sourceChain\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"emergencyWithdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"chain\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"amountUSDC\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"minTokensOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"takeProfitPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"stopLossPrice\",\"type\":\"uint256\"}],\"name\":\"executeDipBuy\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"positionId\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"indexToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amountUSDC\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"acceptablePrice\",\"type\":\"uint256\"}],\"name\":\"executeShort\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"positionId\",\"type\":\"uint256\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"positionId\",\"type\":\"uint256\"}],\"name\":\"getGMXPositionInfo\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"size\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"collateral\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"averagePrice\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"hasProfit\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"delta\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getOpenDipBuys\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"chain\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"entryPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"sizeTokens\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"sizeUSDC\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"takeProfitPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"stopLossPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"entryTimestamp\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isOpen\",\"type\":\"bool\"},{\"internalType\":\"string\",\"name\":\"sourceChain\",\"type\":\"string\"}],\"internalType\":\"struct NexusVault.DipBuyPosition[]\",\"name\":\"\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getOpenPositions\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"indexToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"collateralUSDC\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"positionSizeUSD\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"entryPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"entryTimestamp\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"gmxPositionKey\",\"type\":\"bytes32\"},{\"internalType\":\"bool\",\"name\":\"isOpen\",\"type\":\"bool\"},{\"internalType\":\"string\",\"name\":\"sourceChain\",\"type\":\"string\"}],\"internalType\":\"struct NexusVault.ShortPosition[]\",\"name\":\"\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getTotalVaultValue\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"gmxKeyToPositionId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"positionKey\",\"type\":\"bytes32\"},{\"internalType\":\"bool\",\"name\":\"isExecuted\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"isIncrease\",\"type\":\"bool\"}],\"name\":\"gmxPositionCallback\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"gmxPositionRouter\",\"outputs\":[{\"internalType\":\"contract IGMXPositionRouter\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"gmxVault\",\"outputs\":[{\"internalType\":\"contract IGMXVault\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"paused\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"pendingBridgeBack\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"destinationChain\",\"type\":\"string\"},{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"positionCounter\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"positionRegistry\",\"outputs\":[{\"internalType\":\"contract IPositionRegistry\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"positions\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"indexToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"collateralUSDC\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"positionSizeUSD\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"entryPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"entryTimestamp\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"gmxPositionKey\",\"type\":\"bytes32\"},{\"internalType\":\"bool\",\"name\":\"isOpen\",\"type\":\"bool\"},{\"internalType\":\"string\",\"name\":\"sourceChain\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"priceOracle\",\"outputs\":[{\"internalType\":\"contract IPriceOracle\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newAgent\",\"type\":\"address\"}],\"name\":\"setAgentAddress\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bool\",\"name\":\"_paused\",\"type\":\"bool\"}],\"name\":\"setPaused\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"signalOracle\",\"outputs\":[{\"internalType\":\"contract ISignalOracle\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"positionId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tokensReceived\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"executionPrice\",\"type\":\"uint256\"}],\"name\":\"updateDipBuyExecution\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newRegistry\",\"type\":\"address\"}],\"name\":\"updatePositionRegistry\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newPriceOracle\",\"type\":\"address\"}],\"name\":\"updatePriceOracle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOracle\",\"type\":\"address\"}],\"name\":\"updateSignalOracle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Holds USDC treasury, bridges via LI.FI, executes perpetual shorts on GMX  Architecture: 1. User funds on any chain \\u2192 LI.FI bridges to Arbitrum 2. On Arbitrum, opens GMX perpetual SHORT position 3. Price crashes, GMX SHORT profits 4. Close position, bridge profits back via LI.FI\",\"errors\":{\"OwnableInvalidOwner(address)\":[{\"details\":\"The owner is not a valid owner account. (eg. `address(0)`)\"}],\"OwnableUnauthorizedAccount(address)\":[{\"details\":\"The caller account is not authorized to perform an operation.\"}],\"ReentrancyGuardReentrantCall()\":[{\"details\":\"Unauthorized reentrant call.\"}]},\"kind\":\"dev\",\"methods\":{\"closeDipBuy(uint256,uint256,bytes)\":{\"params\":{\"exitPrice\":\"Current market price\",\"lifiCalldata\":\"LI.FI swap + bridge back calldata\",\"positionId\":\"Position to close\"}},\"closePosition(uint256,uint256)\":{\"details\":\"Bridging profits back is handled off-chain by LI.FI SDK\",\"params\":{\"minExitPrice\":\"Minimum acceptable exit price (30 decimals)\",\"positionId\":\"Position to close\"}},\"deposit(uint256)\":{\"params\":{\"amount\":\"Amount of USDC to deposit (6 decimals)\"}},\"executeDipBuy(address,string,uint256,uint256,uint256,uint256)\":{\"details\":\"Bridging is handled off-chain by LI.FI SDK\",\"params\":{\"amountUSDC\":\"USDC to spend on dip buy\",\"chain\":\"Chain where memecoin lives (e.g., \\\"base\\\", \\\"ethereum\\\")\",\"minTokensOut\":\"Minimum tokens expected from swap\",\"stopLossPrice\":\"Stop loss price (-15-20%)\",\"takeProfitPrice\":\"Target sell price for bounce (+30-50%)\",\"token\":\"Memecoin address on destination chain\"},\"returns\":{\"positionId\":\"Dip buy position ID\"}},\"executeShort(address,uint256,uint256,uint256)\":{\"details\":\"Cross-chain bridging is handled off-chain by LI.FI SDK (TypeScript)      This contract only opens GMX shorts with USDC already on Arbitrum \",\"params\":{\"acceptablePrice\":\"Maximum entry price for short (30 decimals)\",\"amountUSDC\":\"Collateral amount in USDC (6 decimals)\",\"indexToken\":\"Token to short (e.g., WETH, WBTC)\",\"leverage\":\"Leverage multiplier (1-50x, typically 2-10x)\"},\"returns\":{\"positionId\":\"The ID of the created position\"}},\"gmxPositionCallback(bytes32,bool,bool)\":{\"details\":\"Called by GMX Position Router after position is executed\"},\"owner()\":{\"details\":\"Returns the address of the current owner.\"},\"renounceOwnership()\":{\"details\":\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner.\"},\"transferOwnership(address)\":{\"details\":\"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.\"},\"updateDipBuyExecution(uint256,uint256,uint256)\":{\"details\":\"Called by off-chain agent after monitoring swap execution\",\"params\":{\"executionPrice\":\"Actual execution price\",\"positionId\":\"Dip buy position ID\",\"tokensReceived\":\"Amount of tokens received from swap\"}}},\"title\":\"NexusVault\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"closeDipBuy(uint256,uint256,bytes)\":{\"notice\":\"Close dip buy position (take profit or stop loss hit)\"},\"closePosition(uint256,uint256)\":{\"notice\":\"Close a GMX short position\"},\"deposit(uint256)\":{\"notice\":\"Deposit USDC into the vault\"},\"emergencyWithdraw(address,uint256)\":{\"notice\":\"Emergency withdraw - only callable if paused for >48 hours\"},\"executeDipBuy(address,string,uint256,uint256,uint256,uint256)\":{\"notice\":\"Buy memecoin dip after rug pull for dead cat bounce\"},\"executeShort(address,uint256,uint256,uint256)\":{\"notice\":\"Execute a GMX short position (USDC must already be on Arbitrum)\"},\"getGMXPositionInfo(uint256)\":{\"notice\":\"Get GMX position details for a NEXUS position\"},\"getOpenDipBuys()\":{\"notice\":\"Get all open dip buy positions\"},\"gmxPositionCallback(bytes32,bool,bool)\":{\"notice\":\"GMX callback after position execution\"},\"updateDipBuyExecution(uint256,uint256,uint256)\":{\"notice\":\"Update dip buy position after swap completes\"}},\"notice\":\"Main execution contract for cross-chain autonomous shorts via LI.FI + GMX\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/NexusVault.sol\":\"NexusVault\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"@openzeppelin/contracts/access/Ownable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.0.0) (access/Ownable.sol)\\n\\npragma solidity ^0.8.20;\\n\\nimport {Context} from \\\"../utils/Context.sol\\\";\\n\\n/**\\n * @dev Contract module which provides a basic access control mechanism, where\\n * there is an account (an owner) that can be granted exclusive access to\\n * specific functions.\\n *\\n * The initial owner is set to the address provided by the deployer. This can\\n * later be changed with {transferOwnership}.\\n *\\n * This module is used through inheritance. It will make available the modifier\\n * `onlyOwner`, which can be applied to your functions to restrict their use to\\n * the owner.\\n */\\nabstract contract Ownable is Context {\\n    address private _owner;\\n\\n    /**\\n     * @dev The caller account is not authorized to perform an operation.\\n     */\\n    error OwnableUnauthorizedAccount(address account);\\n\\n    /**\\n     * @dev The owner is not a valid owner account. (eg. `address(0)`)\\n     */\\n    error OwnableInvalidOwner(address owner);\\n\\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\\n\\n    /**\\n     * @dev Initializes the contract setting the address provided by the deployer as the initial owner.\\n     */\\n    constructor(address initialOwner) {\\n        if (initialOwner == address(0)) {\\n            revert OwnableInvalidOwner(address(0));\\n        }\\n        _transferOwnership(initialOwner);\\n    }\\n\\n    /**\\n     * @dev Throws if called by any account other than the owner.\\n     */\\n    modifier onlyOwner() {\\n        _checkOwner();\\n        _;\\n    }\\n\\n    /**\\n     * @dev Returns the address of the current owner.\\n     */\\n    function owner() public view virtual returns (address) {\\n        return _owner;\\n    }\\n\\n    /**\\n     * @dev Throws if the sender is not the owner.\\n     */\\n    function _checkOwner() internal view virtual {\\n        if (owner() != _msgSender()) {\\n            revert OwnableUnauthorizedAccount(_msgSender());\\n        }\\n    }\\n\\n    /**\\n     * @dev Leaves the contract without owner. It will not be possible to call\\n     * `onlyOwner` functions. Can only be called by the current owner.\\n     *\\n     * NOTE: Renouncing ownership will leave the contract without an owner,\\n     * thereby disabling any functionality that is only available to the owner.\\n     */\\n    function renounceOwnership() public virtual onlyOwner {\\n        _transferOwnership(address(0));\\n    }\\n\\n    /**\\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\\n     * Can only be called by the current owner.\\n     */\\n    function transferOwnership(address newOwner) public virtual onlyOwner {\\n        if (newOwner == address(0)) {\\n            revert OwnableInvalidOwner(address(0));\\n        }\\n        _transferOwnership(newOwner);\\n    }\\n\\n    /**\\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\\n     * Internal function without access restriction.\\n     */\\n    function _transferOwnership(address newOwner) internal virtual {\\n        address oldOwner = _owner;\\n        _owner = newOwner;\\n        emit OwnershipTransferred(oldOwner, newOwner);\\n    }\\n}\\n\",\"keccak256\":\"0xff6d0bb2e285473e5311d9d3caacb525ae3538a80758c10649a4d61029b017bb\",\"license\":\"MIT\"},\"@openzeppelin/contracts/token/ERC20/IERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.4.0) (token/ERC20/IERC20.sol)\\n\\npragma solidity >=0.4.16;\\n\\n/**\\n * @dev Interface of the ERC-20 standard as defined in the ERC.\\n */\\ninterface IERC20 {\\n    /**\\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\\n     * another (`to`).\\n     *\\n     * Note that `value` may be zero.\\n     */\\n    event Transfer(address indexed from, address indexed to, uint256 value);\\n\\n    /**\\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\\n     * a call to {approve}. `value` is the new allowance.\\n     */\\n    event Approval(address indexed owner, address indexed spender, uint256 value);\\n\\n    /**\\n     * @dev Returns the value of tokens in existence.\\n     */\\n    function totalSupply() external view returns (uint256);\\n\\n    /**\\n     * @dev Returns the value of tokens owned by `account`.\\n     */\\n    function balanceOf(address account) external view returns (uint256);\\n\\n    /**\\n     * @dev Moves a `value` amount of tokens from the caller's account to `to`.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transfer(address to, uint256 value) external returns (bool);\\n\\n    /**\\n     * @dev Returns the remaining number of tokens that `spender` will be\\n     * allowed to spend on behalf of `owner` through {transferFrom}. This is\\n     * zero by default.\\n     *\\n     * This value changes when {approve} or {transferFrom} are called.\\n     */\\n    function allowance(address owner, address spender) external view returns (uint256);\\n\\n    /**\\n     * @dev Sets a `value` amount of tokens as the allowance of `spender` over the\\n     * caller's tokens.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * IMPORTANT: Beware that changing an allowance with this method brings the risk\\n     * that someone may use both the old and the new allowance by unfortunate\\n     * transaction ordering. One possible solution to mitigate this race\\n     * condition is to first reduce the spender's allowance to 0 and set the\\n     * desired value afterwards:\\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\\n     *\\n     * Emits an {Approval} event.\\n     */\\n    function approve(address spender, uint256 value) external returns (bool);\\n\\n    /**\\n     * @dev Moves a `value` amount of tokens from `from` to `to` using the\\n     * allowance mechanism. `value` is then deducted from the caller's\\n     * allowance.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transferFrom(address from, address to, uint256 value) external returns (bool);\\n}\\n\",\"keccak256\":\"0x74ed01eb66b923d0d0cfe3be84604ac04b76482a55f9dd655e1ef4d367f95bc2\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/Context.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.0.1) (utils/Context.sol)\\n\\npragma solidity ^0.8.20;\\n\\n/**\\n * @dev Provides information about the current execution context, including the\\n * sender of the transaction and its data. While these are generally available\\n * via msg.sender and msg.data, they should not be accessed in such a direct\\n * manner, since when dealing with meta-transactions the account sending and\\n * paying for execution may not be the actual sender (as far as an application\\n * is concerned).\\n *\\n * This contract is only required for intermediate, library-like contracts.\\n */\\nabstract contract Context {\\n    function _msgSender() internal view virtual returns (address) {\\n        return msg.sender;\\n    }\\n\\n    function _msgData() internal view virtual returns (bytes calldata) {\\n        return msg.data;\\n    }\\n\\n    function _contextSuffixLength() internal view virtual returns (uint256) {\\n        return 0;\\n    }\\n}\\n\",\"keccak256\":\"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/ReentrancyGuard.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.1.0) (utils/ReentrancyGuard.sol)\\n\\npragma solidity ^0.8.20;\\n\\n/**\\n * @dev Contract module that helps prevent reentrant calls to a function.\\n *\\n * Inheriting from `ReentrancyGuard` will make the {nonReentrant} modifier\\n * available, which can be applied to functions to make sure there are no nested\\n * (reentrant) calls to them.\\n *\\n * Note that because there is a single `nonReentrant` guard, functions marked as\\n * `nonReentrant` may not call one another. This can be worked around by making\\n * those functions `private`, and then adding `external` `nonReentrant` entry\\n * points to them.\\n *\\n * TIP: If EIP-1153 (transient storage) is available on the chain you're deploying at,\\n * consider using {ReentrancyGuardTransient} instead.\\n *\\n * TIP: If you would like to learn more about reentrancy and alternative ways\\n * to protect against it, check out our blog post\\n * https://blog.openzeppelin.com/reentrancy-after-istanbul/[Reentrancy After Istanbul].\\n */\\nabstract contract ReentrancyGuard {\\n    // Booleans are more expensive than uint256 or any type that takes up a full\\n    // word because each write operation emits an extra SLOAD to first read the\\n    // slot's contents, replace the bits taken up by the boolean, and then write\\n    // back. This is the compiler's defense against contract upgrades and\\n    // pointer aliasing, and it cannot be disabled.\\n\\n    // The values being non-zero value makes deployment a bit more expensive,\\n    // but in exchange the refund on every call to nonReentrant will be lower in\\n    // amount. Since refunds are capped to a percentage of the total\\n    // transaction's gas, it is best to keep them low in cases like this one, to\\n    // increase the likelihood of the full refund coming into effect.\\n    uint256 private constant NOT_ENTERED = 1;\\n    uint256 private constant ENTERED = 2;\\n\\n    uint256 private _status;\\n\\n    /**\\n     * @dev Unauthorized reentrant call.\\n     */\\n    error ReentrancyGuardReentrantCall();\\n\\n    constructor() {\\n        _status = NOT_ENTERED;\\n    }\\n\\n    /**\\n     * @dev Prevents a contract from calling itself, directly or indirectly.\\n     * Calling a `nonReentrant` function from another `nonReentrant`\\n     * function is not supported. It is possible to prevent this from happening\\n     * by making the `nonReentrant` function external, and making it call a\\n     * `private` function that does the actual work.\\n     */\\n    modifier nonReentrant() {\\n        _nonReentrantBefore();\\n        _;\\n        _nonReentrantAfter();\\n    }\\n\\n    function _nonReentrantBefore() private {\\n        // On the first call to nonReentrant, _status will be NOT_ENTERED\\n        if (_status == ENTERED) {\\n            revert ReentrancyGuardReentrantCall();\\n        }\\n\\n        // Any calls to nonReentrant after this point will fail\\n        _status = ENTERED;\\n    }\\n\\n    function _nonReentrantAfter() private {\\n        // By storing the original value once again, a refund is triggered (see\\n        // https://eips.ethereum.org/EIPS/eip-2200)\\n        _status = NOT_ENTERED;\\n    }\\n\\n    /**\\n     * @dev Returns true if the reentrancy guard is currently set to \\\"entered\\\", which indicates there is a\\n     * `nonReentrant` function in the call stack.\\n     */\\n    function _reentrancyGuardEntered() internal view returns (bool) {\\n        return _status == ENTERED;\\n    }\\n}\\n\",\"keccak256\":\"0x11a5a79827df29e915a12740caf62fe21ebe27c08c9ae3e09abe9ee3ba3866d3\",\"license\":\"MIT\"},\"contracts/NexusVault.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\nimport \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\nimport \\\"@openzeppelin/contracts/access/Ownable.sol\\\";\\nimport \\\"@openzeppelin/contracts/utils/ReentrancyGuard.sol\\\";\\nimport \\\"./interfaces/ISignalOracle.sol\\\";\\nimport \\\"./interfaces/IPositionRegistry.sol\\\";\\nimport \\\"./interfaces/IPriceOracle.sol\\\";\\nimport \\\"./interfaces/IGMXPositionRouter.sol\\\";\\nimport \\\"./interfaces/IGMXVault.sol\\\";\\nimport \\\"./interfaces/IGMXPositionRouterCallbackReceiver.sol\\\";\\n\\n/**\\n * @title NexusVault\\n * @notice Main execution contract for cross-chain autonomous shorts via LI.FI + GMX\\n * @dev Holds USDC treasury, bridges via LI.FI, executes perpetual shorts on GMX\\n * \\n * Architecture:\\n * 1. User funds on any chain \\u2192 LI.FI bridges to Arbitrum\\n * 2. On Arbitrum, opens GMX perpetual SHORT position\\n * 3. Price crashes, GMX SHORT profits\\n * 4. Close position, bridge profits back via LI.FI\\n */\\ncontract NexusVault is Ownable, ReentrancyGuard, IGMXPositionRouterCallbackReceiver {\\n    // ============================================\\n    // STATE VARIABLES\\n    // ============================================\\n    \\n    address public immutable USDC;\\n    address public agentAddress;\\n    \\n    ISignalOracle public signalOracle;\\n    IPositionRegistry public positionRegistry;\\n    IPriceOracle public priceOracle;\\n    IGMXPositionRouter public gmxPositionRouter;\\n    IGMXVault public gmxVault;\\n    \\n    bool public paused;\\n    uint256 public constant MAX_POSITION_PERCENT = 20; // Max 20% of vault in one position\\n    uint256 public constant MIN_CONFIDENCE_SCORE = 70; // Minimum 70/100 confidence\\n    uint256 public constant DEFAULT_LEVERAGE = 2; // 2x leverage (can be 1-50x on GMX)\\n    uint256 public constant GMX_PRICE_PRECISION = 1e30; // GMX uses 30 decimals for USD\\n    \\n    // Approved tokens for shorting (whitelist to prevent scams)\\n    mapping(address => bool) public approvedTokens;\\n    \\n    // Chain whitelist (must be \\\"arbitrum\\\" for GMX)\\n    mapping(string => bool) public approvedChains;\\n    \\n    // Position tracking\\n    mapping(uint256 => ShortPosition) public positions;\\n    uint256 public positionCounter;\\n    \\n    // GMX position key \\u2192 NEXUS position ID\\n    mapping(bytes32 => uint256) public gmxKeyToPositionId;\\n    \\n    // Position ID \\u2192 Pending bridge back request\\n    mapping(uint256 => BridgeBackRequest) public pendingBridgeBack;\\n    \\n    // Dip buy positions (memecoin post-rug buys)\\n    mapping(uint256 => DipBuyPosition) public dipBuyPositions;\\n    uint256 public dipBuyCounter;\\n    \\n    uint256 public constant MAX_DIP_BUY_PERCENT = 5; // Max 5% of vault on dip buys\\n    \\n    struct ShortPosition {\\n        uint256 id;\\n        address indexToken;      // Token being shorted (e.g., WETH, WBTC)\\n        uint256 collateralUSDC;  // USDC collateral amount\\n        uint256 positionSizeUSD; // Position size in USD (30 decimals)\\n        uint256 leverage;        // Leverage multiplier\\n        uint256 entryPrice;      // Entry price (30 decimals)\\n        uint256 entryTimestamp;\\n        bytes32 gmxPositionKey;  // GMX request key\\n        bool isOpen;\\n        string sourceChain;      // Original chain funds came from\\n    }\\n    \\n    struct BridgeBackRequest {\\n        string destinationChain;\\n        address recipient;\\n        uint256 timestamp;\\n    }\\n    \\n    struct DipBuyPosition {\\n        uint256 id;\\n        address token;           // Memecoin being bought\\n        string chain;            // Chain where token lives\\n        uint256 entryPrice;      // Buy price (18 decimals)\\n        uint256 sizeTokens;      // Amount of tokens bought\\n        uint256 sizeUSDC;        // USDC spent\\n        uint256 takeProfitPrice; // Target sell price (+30-50%)\\n        uint256 stopLossPrice;   // Stop loss price (-15%)\\n        uint256 entryTimestamp;\\n        bool isOpen;\\n        string sourceChain;      // Original chain funds came from\\n    }\\n    \\n    // ============================================\\n    // EVENTS\\n    // ============================================\\n    \\n    event BridgeInitiated(\\n        string indexed sourceChain,\\n        uint256 amountUSDC,\\n        bytes32 lifiTransferId\\n    );\\n    \\n    event LiFiBridgeExecuted(\\n        bytes32 indexed transactionId,\\n        string sourceChain,\\n        uint256 destinationChainId,\\n        uint256 amountUSDC\\n    );\\n    \\n    event ShortExecuted(\\n        uint256 indexed positionId,\\n        address indexed indexToken,\\n        uint256 collateralUSDC,\\n        uint256 positionSizeUSD,\\n        uint256 leverage,\\n        uint16 confidenceScore,\\n        bytes32 gmxPositionKey\\n    );\\n    \\n    event PositionClosed(\\n        uint256 indexed positionId,\\n        uint256 exitPrice,\\n        int256 pnlUSDC,\\n        uint256 finalUSDC\\n    );\\n    \\n    event GMXCallbackReceived(\\n        bytes32 indexed positionKey,\\n        bool isExecuted,\\n        bool isIncrease,\\n        uint256 nexusPositionId\\n    );\\n    \\n    event BridgeBackInitiated(\\n        uint256 indexed positionId,\\n        string destinationChain,\\n        uint256 amountUSDC\\n    );\\n    \\n    event DipBuyInitiated(\\n        uint256 indexed positionId,\\n        address indexed token,\\n        string chain,\\n        uint256 amountUSDC\\n    );\\n    \\n    event DipBuyExecuted(\\n        uint256 indexed positionId,\\n        uint256 tokensReceived,\\n        uint256 executionPrice\\n    );\\n    \\n    event DipBuyClosed(\\n        uint256 indexed positionId,\\n        uint256 exitPrice,\\n        int256 pnlUSDC,\\n        bool isProfit\\n    );\\n    \\n    event Deposit(address indexed user, uint256 amount);\\n    event TokenApproved(address indexed token, bool approved);\\n    event ChainApproved(string chain, bool approved);\\n    event AgentUpdated(address indexed oldAgent, address indexed newAgent);\\n    event EmergencyWithdraw(address indexed token, uint256 amount);\\n    event PositionCloseRequested(uint256 indexed positionId, uint256 minExitPrice);\\n    \\n    // ============================================\\n    // MODIFIERS\\n    // ============================================\\n    \\n    modifier onlyAgent() {\\n        require(msg.sender == agentAddress, \\\"Not authorized agent\\\");\\n        _;\\n    }\\n    \\n    modifier whenNotPaused() {\\n        require(!paused, \\\"Vault is paused\\\");\\n        _;\\n    }\\n    \\n    // ============================================\\n    // CONSTRUCTOR\\n    // ============================================\\n    \\n    constructor(\\n        address _usdc,\\n        address _agentAddress,\\n        address _signalOracle,\\n        address _positionRegistry,\\n        address _priceOracle,\\n        address _gmxPositionRouter,\\n        address _gmxVault\\n    ) Ownable(msg.sender) {\\n        USDC = _usdc;\\n        agentAddress = _agentAddress;\\n        signalOracle = ISignalOracle(_signalOracle);\\n        positionRegistry = IPositionRegistry(_positionRegistry);\\n        priceOracle = IPriceOracle(_priceOracle);\\n        gmxPositionRouter = IGMXPositionRouter(_gmxPositionRouter);\\n        gmxVault = IGMXVault(_gmxVault);\\n        \\n        // Only Arbitrum is approved (GMX is only on Arbitrum)\\n        approvedChains[\\\"arbitrum\\\"] = true;\\n    }\\n    \\n    // ============================================\\n    // CORE FUNCTIONS\\n    // ============================================\\n    \\n    /**\\n     * @notice Deposit USDC into the vault\\n     * @param amount Amount of USDC to deposit (6 decimals)\\n     */\\n    function deposit(uint256 amount) external whenNotPaused nonReentrant {\\n        require(amount > 0, \\\"Amount must be > 0\\\");\\n        IERC20(USDC).transferFrom(msg.sender, address(this), amount);\\n        emit Deposit(msg.sender, amount);\\n    }\\n    \\n    \\n    /**\\n     * @notice Execute a GMX short position (USDC must already be on Arbitrum)\\n     * @dev Cross-chain bridging is handled off-chain by LI.FI SDK (TypeScript)\\n     *      This contract only opens GMX shorts with USDC already on Arbitrum\\n     * \\n     * @param indexToken Token to short (e.g., WETH, WBTC)\\n     * @param amountUSDC Collateral amount in USDC (6 decimals)\\n     * @param leverage Leverage multiplier (1-50x, typically 2-10x)\\n     * @param acceptablePrice Maximum entry price for short (30 decimals)\\n     * @return positionId The ID of the created position\\n     */\\n    function executeShort(\\n        address indexToken,\\n        uint256 amountUSDC,\\n        uint256 leverage,\\n        uint256 acceptablePrice\\n    ) \\n        external \\n        payable\\n        onlyAgent \\n        whenNotPaused \\n        nonReentrant \\n        returns (uint256 positionId) \\n    {\\n        // 1. Validate inputs\\n        require(approvedTokens[indexToken], \\\"Token not approved\\\");\\n        require(leverage >= 1 && leverage <= 50, \\\"Invalid leverage\\\");\\n        require(msg.value >= gmxPositionRouter.minExecutionFee(), \\\"Insufficient execution fee\\\");\\n        \\n        // 2. Check position limits (max 20% of vault)\\n        uint256 vaultBalance = IERC20(USDC).balanceOf(address(this));\\n        uint256 maxPositionSize = (vaultBalance * MAX_POSITION_PERCENT) / 100;\\n        require(amountUSDC <= maxPositionSize, \\\"Position exceeds max size\\\");\\n        require(amountUSDC <= vaultBalance, \\\"Insufficient vault balance\\\");\\n        \\n        // 3. Get confidence from SignalOracle\\n        (uint16 confidenceScore, uint8 signalCount) = signalOracle.getConfidenceScore(\\n            indexToken,\\n            \\\"arbitrum\\\" // GMX is only on Arbitrum\\n        );\\n        require(confidenceScore >= MIN_CONFIDENCE_SCORE, \\\"Confidence too low\\\");\\n        require(signalCount >= 2, \\\"Need at least 2 signals\\\");\\n        \\n        // 4. Open GMX short (USDC must already be on Arbitrum)\\n        positionId = _openGMXShort(\\n            indexToken,\\n            amountUSDC,\\n            leverage,\\n            acceptablePrice,\\n            confidenceScore\\n        );\\n        \\n        return positionId;\\n    }\\n    \\n    \\n    /**\\n     * @notice Internal function to open GMX perpetual short\\n     * @dev This is where the ACTUAL SHORT happens (not just buying the token)\\n     */\\n    function _openGMXShort(\\n        address indexToken,\\n        uint256 collateralAmount,\\n        uint256 leverage,\\n        uint256 acceptablePrice,\\n        uint16 confidenceScore\\n    ) internal returns (uint256 positionId) {\\n        // Calculate position size in USD (GMX uses 30 decimals)\\n        // collateralAmount is in USDC (6 decimals), convert to 30 decimals\\n        uint256 positionSizeUSD = (collateralAmount * leverage * 1e24); // 6 + 24 = 30 decimals\\n        \\n        // Approve USDC to GMX Router\\n        IERC20(USDC).approve(address(gmxPositionRouter), collateralAmount);\\n        \\n        // Setup path (just USDC for shorts)\\n        address[] memory path = new address[](1);\\n        path[0] = USDC;\\n        \\n        // Create GMX increase position request (SHORT)\\n        bytes32 gmxKey = gmxPositionRouter.createIncreasePosition{value: msg.value}(\\n            path,\\n            indexToken,           // Token to short\\n            collateralAmount,     // USDC collateral\\n            0,                    // minOut (not needed for shorts)\\n            positionSizeUSD,      // Position size with leverage\\n            false,                // isLong = FALSE (this is a SHORT!)\\n            acceptablePrice,      // Max acceptable entry price\\n            msg.value,            // Execution fee for GMX keeper\\n            bytes32(0),           // Referral code\\n            address(this)         // Callback target\\n        );\\n        \\n        // Create position record\\n        positionCounter++;\\n        positionId = positionCounter;\\n        \\n        positions[positionId] = ShortPosition({\\n            id: positionId,\\n            indexToken: indexToken,\\n            collateralUSDC: collateralAmount,\\n            positionSizeUSD: positionSizeUSD,\\n            leverage: leverage,\\n            entryPrice: acceptablePrice,\\n            entryTimestamp: block.timestamp,\\n            gmxPositionKey: gmxKey,\\n            isOpen: true,\\n            sourceChain: \\\"arbitrum\\\"\\n        });\\n        \\n        // Map GMX key to position ID\\n        gmxKeyToPositionId[gmxKey] = positionId;\\n        \\n        // Record in PositionRegistry\\n        bytes32[] memory signalIds = signalOracle.getRecentSignalIds(indexToken, \\\"arbitrum\\\");\\n        positionRegistry.recordPosition(\\n            indexToken,\\n            \\\"arbitrum\\\",\\n            acceptablePrice,\\n            (positionSizeUSD * 1e18) / acceptablePrice, // Convert to token amount\\n            collateralAmount,\\n            confidenceScore,\\n            signalIds\\n        );\\n        \\n        emit ShortExecuted(\\n            positionId,\\n            indexToken,\\n            collateralAmount,\\n            positionSizeUSD,\\n            leverage,\\n            confidenceScore,\\n            gmxKey\\n        );\\n        \\n        return positionId;\\n    }\\n    \\n    /**\\n     * @notice Close a GMX short position\\n     * @dev Bridging profits back is handled off-chain by LI.FI SDK\\n     * @param positionId Position to close\\n     * @param minExitPrice Minimum acceptable exit price (30 decimals)\\n     */\\n    function closePosition(\\n        uint256 positionId,\\n        uint256 minExitPrice\\n    ) \\n        external\\n        payable\\n        onlyAgent \\n        nonReentrant \\n    {\\n        ShortPosition storage position = positions[positionId];\\n        require(position.isOpen, \\\"Position not open\\\");\\n        require(msg.value >= gmxPositionRouter.minExecutionFee(), \\\"Insufficient execution fee\\\");\\n        \\n        // Setup path for receiving USDC\\n        address[] memory path = new address[](1);\\n        path[0] = USDC;\\n        \\n        // Create GMX decrease position request (close SHORT)\\n        bytes32 gmxKey = gmxPositionRouter.createDecreasePosition{value: msg.value}(\\n            path,\\n            position.indexToken,      // Token being shorted\\n            position.positionSizeUSD, // Collateral to withdraw (all of it)\\n            position.positionSizeUSD, // Position size to close (all of it)\\n            false,                    // isLong = false (SHORT)\\n            address(this),            // Receiver (USDC stays in vault)\\n            minExitPrice,             // Min acceptable exit price for short\\n            0,                        // minOut\\n            msg.value,                // Execution fee\\n            false,                    // withdrawETH\\n            address(this)             // Callback target\\n        );\\n        \\n        // Map GMX key to position ID for callback\\n        gmxKeyToPositionId[gmxKey] = positionId;\\n        \\n        emit PositionCloseRequested(positionId, minExitPrice);\\n        \\n        // Position will be marked closed in GMX callback\\n        // Agent can withdraw USDC manually if needed for cross-chain\\n    }\\n    \\n    /**\\n     * @notice GMX callback after position execution\\n     * @dev Called by GMX Position Router after position is executed\\n     */\\n    function gmxPositionCallback(\\n        bytes32 positionKey,\\n        bool isExecuted,\\n        bool isIncrease\\n    ) external override {\\n        require(msg.sender == address(gmxPositionRouter), \\\"Only GMX Position Router\\\");\\n        \\n        uint256 positionId = gmxKeyToPositionId[positionKey];\\n        require(positionId > 0, \\\"Unknown position key\\\");\\n        \\n        emit GMXCallbackReceived(positionKey, isExecuted, isIncrease, positionId);\\n        \\n        if (!isExecuted) {\\n            // Position execution failed\\n            return;\\n        }\\n        \\n        if (isIncrease) {\\n            // Position opened successfully\\n            // Already handled in _openGMXShort\\n            return;\\n        }\\n        \\n        // Position closed - handle P&L and bridge back\\n        ShortPosition storage position = positions[positionId];\\n        \\n        // Get current USDC balance (includes profit/loss)\\n        uint256 finalUSDC = IERC20(USDC).balanceOf(address(this));\\n        \\n        // Calculate P&L\\n        int256 pnlUSDC = int256(finalUSDC) - int256(position.collateralUSDC);\\n        \\n        // Get exit price from GMX Vault\\n        uint256 exitPrice = gmxVault.getMaxPrice(position.indexToken);\\n        \\n        // Determine status\\n        IPositionRegistry.PositionStatus status = pnlUSDC > 0 \\n            ? IPositionRegistry.PositionStatus.CLOSED_PROFIT \\n            : IPositionRegistry.PositionStatus.CLOSED_LOSS;\\n        \\n        // Update position registry\\n        positionRegistry.closePosition(positionId, exitPrice, status);\\n        \\n        // Mark position as closed\\n        position.isOpen = false;\\n        \\n        emit PositionClosed(positionId, exitPrice, pnlUSDC, finalUSDC);\\n        \\n        // USDC remains in vault - agent can withdraw if needed\\n    }\\n    \\n    // ============================================\\n    // VIEW FUNCTIONS\\n    // ============================================\\n    \\n    function getTotalVaultValue() public view returns (uint256) {\\n        return IERC20(USDC).balanceOf(address(this));\\n    }\\n    \\n    function getOpenPositions() external view returns (ShortPosition[] memory) {\\n        // Count open positions\\n        uint256 openCount = 0;\\n        for (uint256 i = 1; i <= positionCounter; i++) {\\n            if (positions[i].isOpen) openCount++;\\n        }\\n        \\n        // Populate array\\n        ShortPosition[] memory openPositions = new ShortPosition[](openCount);\\n        uint256 index = 0;\\n        for (uint256 i = 1; i <= positionCounter; i++) {\\n            if (positions[i].isOpen) {\\n                openPositions[index] = positions[i];\\n                index++;\\n            }\\n        }\\n        \\n        return openPositions;\\n    }\\n    \\n    /**\\n     * @notice Get GMX position details for a NEXUS position\\n     */\\n    function getGMXPositionInfo(uint256 positionId) external view returns (\\n        uint256 size,\\n        uint256 collateral,\\n        uint256 averagePrice,\\n        bool hasProfit,\\n        uint256 delta\\n    ) {\\n        ShortPosition memory position = positions[positionId];\\n        require(position.isOpen, \\\"Position not open\\\");\\n        \\n        // Query GMX Vault\\n        (size, collateral, averagePrice, , , , , ) = gmxVault.getPosition(\\n            address(this),\\n            USDC,\\n            position.indexToken,\\n            false // isLong = false (SHORT)\\n        );\\n        \\n        // Get unrealised P&L\\n        (hasProfit, delta) = gmxVault.getPositionDelta(\\n            address(this),\\n            USDC,\\n            position.indexToken,\\n            false\\n        );\\n        \\n        return (size, collateral, averagePrice, hasProfit, delta);\\n    }\\n    \\n    // ============================================\\n    // MEMECOIN DIP BUYING FUNCTIONS\\n    // ============================================\\n    \\n    /**\\n     * @notice Buy memecoin dip after rug pull for dead cat bounce\\n     * @dev Bridging is handled off-chain by LI.FI SDK\\n     * @param token Memecoin address on destination chain\\n     * @param chain Chain where memecoin lives (e.g., \\\"base\\\", \\\"ethereum\\\")\\n     * @param amountUSDC USDC to spend on dip buy\\n     * @param minTokensOut Minimum tokens expected from swap\\n     * @param takeProfitPrice Target sell price for bounce (+30-50%)\\n     * @param stopLossPrice Stop loss price (-15-20%)\\n     * @return positionId Dip buy position ID\\n     */\\n    function executeDipBuy(\\n        address token,\\n        string calldata chain,\\n        uint256 amountUSDC,\\n        uint256 minTokensOut,\\n        uint256 takeProfitPrice,\\n        uint256 stopLossPrice\\n    ) \\n        external \\n        onlyAgent \\n        whenNotPaused \\n        nonReentrant \\n        returns (uint256 positionId) \\n    {\\n        // Validate position size (max 5% of vault for dip buys)\\n        uint256 vaultBalance = IERC20(USDC).balanceOf(address(this));\\n        uint256 maxDipBuySize = (vaultBalance * MAX_DIP_BUY_PERCENT) / 100;\\n        require(amountUSDC <= maxDipBuySize, \\\"Dip buy exceeds max size\\\");\\n        require(amountUSDC <= vaultBalance, \\\"Insufficient vault balance\\\");\\n        \\n        // Validate take-profit and stop-loss\\n        require(takeProfitPrice > stopLossPrice, \\\"Invalid TP/SL prices\\\");\\n        \\n        // Bridging handled off-chain by LI.FI SDK\\n        // Contract only handles execution on current chain\\n        \\n        // Create dip buy position record\\n        dipBuyCounter++;\\n        positionId = dipBuyCounter;\\n        \\n        dipBuyPositions[positionId] = DipBuyPosition({\\n            id: positionId,\\n            token: token,\\n            chain: chain,\\n            entryPrice: 0,  // Will be set after swap executes\\n            sizeTokens: 0,  // Will be set after swap executes\\n            sizeUSDC: amountUSDC,\\n            takeProfitPrice: takeProfitPrice,\\n            stopLossPrice: stopLossPrice,\\n            entryTimestamp: block.timestamp,\\n            isOpen: true,\\n            sourceChain: \\\"arbitrum\\\"\\n        });\\n        \\n        emit DipBuyInitiated(positionId, token, chain, amountUSDC);\\n        \\n        return positionId;\\n    }\\n    \\n    /**\\n     * @notice Update dip buy position after swap completes\\n     * @dev Called by off-chain agent after monitoring swap execution\\n     * @param positionId Dip buy position ID\\n     * @param tokensReceived Amount of tokens received from swap\\n     * @param executionPrice Actual execution price\\n     */\\n    function updateDipBuyExecution(\\n        uint256 positionId,\\n        uint256 tokensReceived,\\n        uint256 executionPrice\\n    ) external onlyAgent {\\n        DipBuyPosition storage pos = dipBuyPositions[positionId];\\n        require(pos.isOpen, \\\"Position not open\\\");\\n        require(pos.entryPrice == 0, \\\"Already executed\\\");\\n        \\n        pos.entryPrice = executionPrice;\\n        pos.sizeTokens = tokensReceived;\\n        \\n        emit DipBuyExecuted(positionId, tokensReceived, executionPrice);\\n    }\\n    \\n    /**\\n     * @notice Close dip buy position (take profit or stop loss hit)\\n     * @param positionId Position to close\\n     * @param exitPrice Current market price\\n     * @param lifiCalldata LI.FI swap + bridge back calldata\\n     */\\n    function closeDipBuy(\\n        uint256 positionId,\\n        uint256 exitPrice,\\n        bytes calldata lifiCalldata\\n    ) \\n        external \\n        onlyAgent \\n        nonReentrant \\n    {\\n        DipBuyPosition storage pos = dipBuyPositions[positionId];\\n        require(pos.isOpen, \\\"Position not open\\\");\\n        require(pos.entryPrice > 0, \\\"Position not executed yet\\\");\\n        \\n        // Selling and bridging back handled off-chain by LI.FI SDK\\n        // Contract only tracks P&L\\n        \\n        // Calculate P&L\\n        // For dip buys: profit when exitPrice > entryPrice\\n        int256 priceDiff = int256(exitPrice) - int256(pos.entryPrice);\\n        int256 pnlUSDC = (priceDiff * int256(pos.sizeTokens)) / 1e18;\\n        bool isProfit = pnlUSDC > 0;\\n        \\n        // Mark position as closed\\n        pos.isOpen = false;\\n        \\n        emit DipBuyClosed(positionId, exitPrice, pnlUSDC, isProfit);\\n    }\\n    \\n    /**\\n     * @notice Get all open dip buy positions\\n     */\\n    function getOpenDipBuys() external view returns (DipBuyPosition[] memory) {\\n        // Count open dip buys\\n        uint256 openCount = 0;\\n        for (uint256 i = 1; i <= dipBuyCounter; i++) {\\n            if (dipBuyPositions[i].isOpen) openCount++;\\n        }\\n        \\n        // Populate array\\n        DipBuyPosition[] memory openDipBuys = new DipBuyPosition[](openCount);\\n        uint256 index = 0;\\n        for (uint256 i = 1; i <= dipBuyCounter; i++) {\\n            if (dipBuyPositions[i].isOpen) {\\n                openDipBuys[index] = dipBuyPositions[i];\\n                index++;\\n            }\\n        }\\n        \\n        return openDipBuys;\\n    }\\n    \\n    // ============================================\\n    // ADMIN FUNCTIONS\\n    // ============================================\\n    \\n    function setAgentAddress(address newAgent) external onlyOwner {\\n        require(newAgent != address(0), \\\"Invalid agent\\\");\\n        address oldAgent = agentAddress;\\n        agentAddress = newAgent;\\n        emit AgentUpdated(oldAgent, newAgent);\\n    }\\n    \\n    function approveToken(address token, bool approved) external onlyOwner {\\n        approvedTokens[token] = approved;\\n        emit TokenApproved(token, approved);\\n    }\\n    \\n    function approveChain(string calldata chain, bool approved) external onlyOwner {\\n        approvedChains[chain] = approved;\\n        emit ChainApproved(chain, approved);\\n    }\\n    \\n    function setPaused(bool _paused) external onlyOwner {\\n        paused = _paused;\\n    }\\n    \\n    function updateSignalOracle(address newOracle) external onlyOwner {\\n        require(newOracle != address(0), \\\"Invalid oracle\\\");\\n        signalOracle = ISignalOracle(newOracle);\\n    }\\n    \\n    function updatePositionRegistry(address newRegistry) external onlyOwner {\\n        require(newRegistry != address(0), \\\"Invalid registry\\\");\\n        positionRegistry = IPositionRegistry(newRegistry);\\n    }\\n    \\n    function updatePriceOracle(address newPriceOracle) external onlyOwner {\\n        require(newPriceOracle != address(0), \\\"Invalid oracle\\\");\\n        priceOracle = IPriceOracle(newPriceOracle);\\n    }\\n    \\n    /**\\n     * @notice Emergency withdraw - only callable if paused for >48 hours\\n     */\\n    function emergencyWithdraw(address token, uint256 amount) external onlyOwner {\\n        require(paused, \\\"Must be paused\\\");\\n        // Additional safety: could add a pausedTimestamp check\\n        \\n        IERC20(token).transfer(owner(), amount);\\n        emit EmergencyWithdraw(token, amount);\\n    }\\n}\\n\",\"keccak256\":\"0x0dbea7886e0587963fa8d2ccfe4d6fee352a774d5a3ee301f15d0eadcda347db\",\"license\":\"MIT\"},\"contracts/interfaces/IGMXPositionRouter.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\n/**\\n * @title IGMXPositionRouter\\n * @notice Interface for GMX Position Router for opening/closing leveraged positions\\n * @dev Used to execute perpetual shorts on GMX\\n */\\ninterface IGMXPositionRouter {\\n    /**\\n     * @notice Create an increase position request (open or add to position)\\n     * @param _path Token path for collateral (e.g., [USDC])\\n     * @param _indexToken Token to long/short (e.g., WETH, WBTC)\\n     * @param _amountIn Collateral amount\\n     * @param _minOut Minimum tokens out (0 for shorts)\\n     * @param _sizeDelta Position size increase in USD (30 decimals)\\n     * @param _isLong true for long, false for short\\n     * @param _acceptablePrice Max price for longs, min price for shorts (30 decimals)\\n     * @param _executionFee Fee paid to keeper (msg.value)\\n     * @param _referralCode Referral code for fee sharing\\n     * @param _callbackTarget Address to call after execution\\n     * @return requestKey Unique identifier for this position request\\n     */\\n    function createIncreasePosition(\\n        address[] memory _path,\\n        address _indexToken,\\n        uint256 _amountIn,\\n        uint256 _minOut,\\n        uint256 _sizeDelta,\\n        bool _isLong,\\n        uint256 _acceptablePrice,\\n        uint256 _executionFee,\\n        bytes32 _referralCode,\\n        address _callbackTarget\\n    ) external payable returns (bytes32 requestKey);\\n\\n    /**\\n     * @notice Create a decrease position request (close or reduce position)\\n     * @param _path Token path for receiving collateral (e.g., [USDC])\\n     * @param _indexToken Token being shorted/longed\\n     * @param _collateralDelta Collateral to withdraw in USD (30 decimals)\\n     * @param _sizeDelta Position size to decrease in USD (30 decimals)\\n     * @param _isLong true for long, false for short\\n     * @param _receiver Address to receive withdrawn collateral\\n     * @param _acceptablePrice Min price for longs, max price for shorts (30 decimals)\\n     * @param _minOut Minimum tokens to receive\\n     * @param _executionFee Fee paid to keeper (msg.value)\\n     * @param _withdrawETH Whether to withdraw as ETH instead of WETH\\n     * @param _callbackTarget Address to call after execution\\n     * @return requestKey Unique identifier for this position request\\n     */\\n    function createDecreasePosition(\\n        address[] memory _path,\\n        address _indexToken,\\n        uint256 _collateralDelta,\\n        uint256 _sizeDelta,\\n        bool _isLong,\\n        address _receiver,\\n        uint256 _acceptablePrice,\\n        uint256 _minOut,\\n        uint256 _executionFee,\\n        bool _withdrawETH,\\n        address _callbackTarget\\n    ) external payable returns (bytes32 requestKey);\\n\\n    /**\\n     * @notice Get minimum execution fee required\\n     */\\n    function minExecutionFee() external view returns (uint256);\\n\\n    /**\\n     * @notice Get position request by key\\n     */\\n    function increasePositionRequests(bytes32 key) external view returns (\\n        address account,\\n        address[] memory path,\\n        address indexToken,\\n        uint256 amountIn,\\n        uint256 minOut,\\n        uint256 sizeDelta,\\n        bool isLong,\\n        uint256 acceptablePrice,\\n        uint256 executionFee,\\n        uint256 blockNumber,\\n        uint256 blockTime,\\n        bool hasCollateralInETH,\\n        address callbackTarget\\n    );\\n\\n    /**\\n     * @notice Get decrease position request by key\\n     */\\n    function decreasePositionRequests(bytes32 key) external view returns (\\n        address account,\\n        address[] memory path,\\n        address indexToken,\\n        uint256 collateralDelta,\\n        uint256 sizeDelta,\\n        bool isLong,\\n        address receiver,\\n        uint256 acceptablePrice,\\n        uint256 minOut,\\n        uint256 executionFee,\\n        uint256 blockNumber,\\n        uint256 blockTime,\\n        bool withdrawETH,\\n        address callbackTarget\\n    );\\n\\n    /**\\n     * @notice Cancel an increase position request\\n     */\\n    function cancelIncreasePosition(\\n        bytes32 _key,\\n        address payable _executionFeeReceiver\\n    ) external returns (bool);\\n\\n    /**\\n     * @notice Cancel a decrease position request\\n     */\\n    function cancelDecreasePosition(\\n        bytes32 _key,\\n        address payable _executionFeeReceiver\\n    ) external returns (bool);\\n}\\n\",\"keccak256\":\"0xe1643f12a85e23f1399cb9bd9177b6d60e48487e0b68cae564733ede58b18806\",\"license\":\"MIT\"},\"contracts/interfaces/IGMXPositionRouterCallbackReceiver.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\n/**\\n * @title IGMXPositionRouterCallbackReceiver\\n * @notice Interface for receiving callbacks from GMX Position Router\\n * @dev Implement this to handle position execution confirmations\\n */\\ninterface IGMXPositionRouterCallbackReceiver {\\n    /**\\n     * @notice Called by GMX Position Router after position is executed\\n     * @param positionKey Unique key identifying the position request\\n     * @param isExecuted true if position was successfully executed\\n     * @param isIncrease true for increase position, false for decrease\\n     */\\n    function gmxPositionCallback(\\n        bytes32 positionKey,\\n        bool isExecuted,\\n        bool isIncrease\\n    ) external;\\n}\\n\",\"keccak256\":\"0xbeb767e7565c6bf94e8a2dc610b38b4e5825cd546ee18692f605d4405beecbf3\",\"license\":\"MIT\"},\"contracts/interfaces/IGMXVault.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\n/**\\n * @title IGMXVault\\n * @notice Interface for GMX Vault to query positions\\n * @dev Used to read position data and validate state\\n */\\ninterface IGMXVault {\\n    /**\\n     * @notice Get position details\\n     * @param _account Position owner\\n     * @param _collateralToken Collateral token address\\n     * @param _indexToken Token being shorted/longed\\n     * @param _isLong true for long, false for short\\n     * @return size Position size in USD (30 decimals)\\n     * @return collateral Collateral amount in USD (30 decimals)\\n     * @return averagePrice Average entry price (30 decimals)\\n     * @return entryFundingRate Funding rate at entry\\n     * @return reserveAmount Reserved amount\\n     * @return realisedPnl Realised P&L\\n     * @return hasProfit Whether position has unrealised profit\\n     * @return lastIncreasedTime Last time position was increased\\n     */\\n    function getPosition(\\n        address _account,\\n        address _collateralToken,\\n        address _indexToken,\\n        bool _isLong\\n    ) external view returns (\\n        uint256 size,\\n        uint256 collateral,\\n        uint256 averagePrice,\\n        uint256 entryFundingRate,\\n        uint256 reserveAmount,\\n        uint256 realisedPnl,\\n        bool hasProfit,\\n        uint256 lastIncreasedTime\\n    );\\n\\n    /**\\n     * @notice Get position delta (unrealised P&L)\\n     * @return hasProfit Whether position is profitable\\n     * @return delta Absolute P&L amount\\n     */\\n    function getPositionDelta(\\n        address _account,\\n        address _collateralToken,\\n        address _indexToken,\\n        bool _isLong\\n    ) external view returns (bool hasProfit, uint256 delta);\\n\\n    /**\\n     * @notice Get current price of token\\n     */\\n    function getMaxPrice(address _token) external view returns (uint256);\\n    \\n    /**\\n     * @notice Get minimum price of token\\n     */\\n    function getMinPrice(address _token) external view returns (uint256);\\n}\\n\",\"keccak256\":\"0x1049ea1149141abec036cb0e1870399da3a0a1c09a9791a585cfccb25d505dbf\",\"license\":\"MIT\"},\"contracts/interfaces/IPositionRegistry.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\ninterface IPositionRegistry {\\n    enum PositionStatus {\\n        OPEN,\\n        CLOSED_PROFIT,\\n        CLOSED_LOSS,\\n        CLOSED_STOP_LOSS,\\n        LIQUIDATED\\n    }\\n    \\n    function recordPosition(\\n        address tokenAddress,\\n        string calldata chain,\\n        uint256 entryPrice,\\n        uint256 sizeTokens,\\n        uint256 sizeUSDC,\\n        uint16 confidenceScore,\\n        bytes32[] calldata triggeringSignals\\n    ) external returns (uint256 positionId);\\n    \\n    function closePosition(\\n        uint256 positionId,\\n        uint256 exitPrice,\\n        PositionStatus finalStatus\\n    ) external;\\n}\\n\",\"keccak256\":\"0x430701ff811bbc420cf45b2468a54b793ce4e15505a842d7592c40464f7dcea0\",\"license\":\"MIT\"},\"contracts/interfaces/IPriceOracle.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\ninterface IPriceOracle {\\n    function getPrice(\\n        address tokenAddress,\\n        string calldata chain\\n    ) external view returns (uint256 price);\\n}\\n\",\"keccak256\":\"0x2961c56cc03466f94a50fe9d8de6c4024a43681df7445f0e6823dc8ffcea0721\",\"license\":\"MIT\"},\"contracts/interfaces/ISignalOracle.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\ninterface ISignalOracle {\\n    enum SignalType {\\n        INSIDER_WALLET_DUMP,\\n        LIQUIDITY_REMOVAL,\\n        TWITTER_ENGAGEMENT_DROP,\\n        TWITTER_SENTIMENT_NEGATIVE,\\n        GOVERNANCE_BEARISH,\\n        GITHUB_COMMIT_DROP,\\n        DEVELOPER_EXODUS,\\n        WHALE_ALERT,\\n        REGULATORY_RISK,\\n        MACRO_EVENT,\\n        INSTITUTIONAL_MOVE,\\n        SENTIMENT_SHIFT\\n    }\\n    \\n    function getConfidenceScore(\\n        address tokenAddress,\\n        string calldata chain\\n    ) external view returns (uint16 totalScore, uint8 signalCount);\\n    \\n    function getRecentSignalIds(\\n        address tokenAddress,\\n        string calldata chain\\n    ) external view returns (bytes32[] memory);\\n}\\n\",\"keccak256\":\"0xceacb83d3320476a909417be90e41c731aa244fdbde4c1690080524f4ef2a393\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x60a06040523480156200001157600080fd5b506040516200403338038062004033833981016040819052620000349162000183565b33806200005b57604051631e4fbdf760e01b81526000600482015260240160405180910390fd5b620000668162000116565b5060018080556001600160a01b03888116608052600280546001600160a01b03199081168a8416179091556003805482168984161790556004805482168884161790556005805482168784161790556006805482168684161790556007805490911691841691909117905560405167617262697472756d60c01b8152600990600801908152604051908190036020019020805491151560ff19909216919091179055506200021895505050505050565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80516001600160a01b03811681146200017e57600080fd5b919050565b600080600080600080600060e0888a0312156200019f57600080fd5b620001aa8862000166565b9650620001ba6020890162000166565b9550620001ca6040890162000166565b9450620001da6060890162000166565b9350620001ea6080890162000166565b9250620001fa60a0890162000166565b91506200020a60c0890162000166565b905092959891949750929550565b608051613db96200027a600039600081816105af01528181610d1b01528181610dc501528181610ed80152818161143d015281816117f601528181611a2701528181612180015281816127e801528181612a9b0152612b2d0152613db96000f3fe60806040526004361061025c5760003560e01c80637c6f360c11610144578063c657e7c2116100b6578063db0d0ee71161007a578063db0d0ee71461078b578063e286035b146107ad578063e54f8f45146107ce578063edf3daec146107ee578063f2fde38b1461080e578063fce963671461082e57600080fd5b8063c657e7c214610701578063cb2a006d14610721578063cc66389214610741578063ce76597814610761578063d57f46661461077657600080fd5b806395ccea671161010857806395ccea671461060f57806399fbab881461062f578063ae082c6e14610665578063ae10fde014610694578063b3b3453e146106c1578063b6b55f25146106e157600080fd5b80637c6f360c14610546578063895ce1851461057d57806389a302711461059d5780638a3d4e52146105d15780638da5cb5b146105f157600080fd5b80632d6ce61d116101dd57806352eca321116101a157806352eca321146104a05780635c975abb146104b557806363d5ab8d146104d65780636d1ea3fa146104ec578063715018a61461051c57806372e2c3f41461053157600080fd5b80632d6ce61d1461040d578063386136901461042057806339d1fc8214610440578063464d179d146104605780634aae134c1461048057600080fd5b806313e5f2db1161022457806313e5f2db14610337578063158cbd631461038257806316c38b3c146103a25780631ed54565146103c25780632630c12f146103d557600080fd5b806308a5f0c3146102615780630ae053ca146102895780630c0e0cef146102ab5780630fbac333146102cb57806313d90a29146102ed575b600080fd5b34801561026d57600080fd5b50610276604681565b6040519081526020015b60405180910390f35b34801561029557600080fd5b506102a96102a4366004612f64565b610844565b005b3480156102b757600080fd5b506102a96102c6366004612f94565b6108bc565b3480156102d757600080fd5b506102e0610924565b6040516102809190613011565b3480156102f957600080fd5b5061030d6103083660046130e6565b610bae565b6040805195865260208601949094529284019190915215156060830152608082015260a001610280565b34801561034357600080fd5b50610372610352366004613146565b805160208183018101805160098252928201919093012091525460ff1681565b6040519015158152602001610280565b34801561038e57600080fd5b5061027661039d366004613224565b610e61565b3480156103ae57600080fd5b506102a96103bd36600461329a565b61122c565b6102766103d03660046132b7565b611252565b3480156103e157600080fd5b506005546103f5906001600160a01b031681565b6040516001600160a01b039091168152602001610280565b6102a961041b3660046132f0565b6116a8565b34801561042c57600080fd5b506002546103f5906001600160a01b031681565b34801561044c57600080fd5b506102a961045b366004612f64565b61192d565b34801561046c57600080fd5b506004546103f5906001600160a01b031681565b34801561048c57600080fd5b506102a961049b366004612f64565b61199e565b3480156104ac57600080fd5b50610276611a0f565b3480156104c157600080fd5b5060075461037290600160a01b900460ff1681565b3480156104e257600080fd5b50610276600b5481565b3480156104f857600080fd5b50610372610507366004612f64565b60086020526000908152604090205460ff1681565b34801561052857600080fd5b506102a9611a9f565b34801561053d57600080fd5b50610276600281565b34801561055257600080fd5b506105666105613660046130e6565b611ab3565b6040516102809b9a99989796959493929190613312565b34801561058957600080fd5b506102a9610598366004612f64565b611c2d565b3480156105a957600080fd5b506103f57f000000000000000000000000000000000000000000000000000000000000000081565b3480156105dd57600080fd5b506102a96105ec366004613392565b611ccd565b3480156105fd57600080fd5b506000546001600160a01b03166103f5565b34801561061b57600080fd5b506102a961062a3660046133e5565b611e28565b34801561063b57600080fd5b5061064f61064a3660046130e6565b611f48565b6040516102809a9998979695949392919061340f565b34801561067157600080fd5b506106856106803660046130e6565b612033565b60405161028093929190613476565b3480156106a057600080fd5b506102766106af3660046130e6565b600c6020526000908152604090205481565b3480156106cd57600080fd5b506007546103f5906001600160a01b031681565b3480156106ed57600080fd5b506102a96106fc3660046130e6565b6120e7565b34801561070d57600080fd5b506006546103f5906001600160a01b031681565b34801561072d57600080fd5b506102a961073c3660046134a4565b612237565b34801561074d57600080fd5b506003546103f5906001600160a01b031681565b34801561076d57600080fd5b50610276601481565b34801561078257600080fd5b50610276600581565b34801561079757600080fd5b506107a06122b1565b60405161028091906134fb565b3480156107b957600080fd5b506102766c0c9f2c9cd04674edea4000000081565b3480156107da57600080fd5b506102a96107e93660046135e1565b6125c8565b3480156107fa57600080fd5b506102a961080936600461360d565b6126b8565b34801561081a57600080fd5b506102a9610829366004612f64565b6129bc565b34801561083a57600080fd5b50610276600f5481565b61084c6129f7565b6001600160a01b03811661089a5760405162461bcd60e51b815260206004820152601060248201526f496e76616c696420726567697374727960801b60448201526064015b60405180910390fd5b600480546001600160a01b0319166001600160a01b0392909216919091179055565b6108c46129f7565b6001600160a01b038216600081815260086020908152604091829020805460ff191685151590811790915591519182527f54aee4f020b814c26f556399a354577e068193a82445e919505b00b9848512a591015b60405180910390a25050565b6060600060015b600b54811161096e576000818152600a602052604090206008015460ff161561095c57816109588161365a565b9250505b806109668161365a565b91505061092b565b5060008167ffffffffffffffff81111561098a5761098a6130ff565b604051908082528060200260200182016040528015610a1f57816020015b610a0c6040518061014001604052806000815260200160006001600160a01b03168152602001600081526020016000815260200160008152602001600081526020016000815260200160008019168152602001600015158152602001606081525090565b8152602001906001900390816109a85790505b509050600060015b600b548111610ba5576000818152600a602052604090206008015460ff1615610b93576000818152600a60209081526040918290208251610140810184528154815260018201546001600160a01b0316928101929092526002810154928201929092526003820154606082015260048201546080820152600582015460a0820152600682015460c0820152600782015460e0820152600882015460ff16151561010082015260098201805491929161012084019190610ae590613673565b80601f0160208091040260200160405190810160405280929190818152602001828054610b1190613673565b8015610b5e5780601f10610b3357610100808354040283529160200191610b5e565b820191906000526020600020905b815481529060010190602001808311610b4157829003601f168201915b505050505081525050838381518110610b7957610b796136ad565b60200260200101819052508180610b8f9061365a565b9250505b80610b9d8161365a565b915050610a27565b50909392505050565b6000818152600a602090815260408083208151610140810183528154815260018201546001600160a01b0316938101939093526002810154918301919091526003810154606083015260048101546080830152600581015460a0830152600681015460c0830152600781015460e0830152600881015460ff161515610100830152600981018054849384938493849384939291610120840191610c5090613673565b80601f0160208091040260200160405190810160405280929190818152602001828054610c7c90613673565b8015610cc95780601f10610c9e57610100808354040283529160200191610cc9565b820191906000526020600020905b815481529060010190602001808311610cac57829003601f168201915b5050505050815250509050806101000151610cf65760405162461bcd60e51b8152600401610891906136c3565b6007546020820151604051634a3f088d60e01b81523060048201526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000081166024830152918216604482015260006064820152911690634a3f088d9060840161010060405180830381865afa158015610d7a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d9e91906136ee565b5050600754602088015160405163045a6f3760e41b81523060048201526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000081166024830152918216604482015260006064820152979d50959b5093995050509116916345a6f37091506084016040805180830381865afa158015610e2e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e529190613758565b90935091505091939590929450565b6002546000906001600160a01b03163314610e8e5760405162461bcd60e51b815260040161089190613786565b600754600160a01b900460ff1615610eb85760405162461bcd60e51b8152600401610891906137b4565b610ec0612a24565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa158015610f27573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610f4b91906137dd565b905060006064610f5c6005846137f6565b610f669190613829565b905080871115610fb85760405162461bcd60e51b815260206004820152601860248201527f446970206275792065786365656473206d61782073697a6500000000000000006044820152606401610891565b818711156110085760405162461bcd60e51b815260206004820152601a60248201527f496e73756666696369656e74207661756c742062616c616e63650000000000006044820152606401610891565b83851161104e5760405162461bcd60e51b8152602060048201526014602482015273496e76616c69642054502f534c2070726963657360601b6044820152606401610891565b600f805490600061105e8361365a565b9190505550600f5492506040518061016001604052808481526020018b6001600160a01b031681526020018a8a8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092018290525093855250505060208083018290526040808401839052606084018c9052608084018a905260a084018990524260c0850152600160e08501819052815180830183526008815267617262697472756d60c01b8185015261010090950194909452878352600e825291829020845181559084015192810180546001600160a01b0319166001600160a01b03909416939093179092558201516002820190611160908261388c565b50606082015160038201556080820151600482015560a0820151600582015560c0820151600682015560e08201516007820155610100820151600882015561012082015160098201805460ff1916911515919091179055610140820151600a8201906111cc908261388c565b50905050896001600160a01b0316837f31c3512421767c966e54ffda2b02a95492568a11632cd3ca7ae7253bd67ded128b8b8b60405161120e93929190613975565b60405180910390a3505061122160018055565b979650505050505050565b6112346129f7565b60078054911515600160a01b0260ff60a01b19909216919091179055565b6002546000906001600160a01b0316331461127f5760405162461bcd60e51b815260040161089190613786565b600754600160a01b900460ff16156112a95760405162461bcd60e51b8152600401610891906137b4565b6112b1612a24565b6001600160a01b03851660009081526008602052604090205460ff1661130e5760405162461bcd60e51b8152602060048201526012602482015271151bdad95b881b9bdd08185c1c1c9bdd995960721b6044820152606401610891565b60018310158015611320575060328311155b61135f5760405162461bcd60e51b815260206004820152601060248201526f496e76616c6964206c6576657261676560801b6044820152606401610891565b600660009054906101000a90046001600160a01b03166001600160a01b03166363ae21036040518163ffffffff1660e01b8152600401602060405180830381865afa1580156113b2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906113d691906137dd565b3410156114255760405162461bcd60e51b815260206004820152601a60248201527f496e73756666696369656e7420657865637574696f6e206665650000000000006044820152606401610891565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa15801561148c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906114b091906137dd565b9050600060646114c16014846137f6565b6114cb9190613829565b90508086111561151d5760405162461bcd60e51b815260206004820152601960248201527f506f736974696f6e2065786365656473206d61782073697a65000000000000006044820152606401610891565b8186111561156d5760405162461bcd60e51b815260206004820152601a60248201527f496e73756666696369656e74207661756c742062616c616e63650000000000006044820152606401610891565b6003546040516312f8486360e01b815260009182916001600160a01b03909116906312f84863906115a2908c90600401613999565b6040805180830381865afa1580156115be573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906115e291906139d0565b9150915060468261ffff1610156116305760405162461bcd60e51b8152602060048201526012602482015271436f6e666964656e636520746f6f206c6f7760701b6044820152606401610891565b60028160ff1610156116845760405162461bcd60e51b815260206004820152601760248201527f4e656564206174206c656173742032207369676e616c730000000000000000006044820152606401610891565b6116918989898986612a4e565b9450505050506116a060018055565b949350505050565b6002546001600160a01b031633146116d25760405162461bcd60e51b815260040161089190613786565b6116da612a24565b6000828152600a60205260409020600881015460ff1661170c5760405162461bcd60e51b8152600401610891906136c3565b600660009054906101000a90046001600160a01b03166001600160a01b03166363ae21036040518163ffffffff1660e01b8152600401602060405180830381865afa15801561175f573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061178391906137dd565b3410156117d25760405162461bcd60e51b815260206004820152601a60248201527f496e73756666696369656e7420657865637574696f6e206665650000000000006044820152606401610891565b604080516001808252818301909252600091602080830190803683370190505090507f000000000000000000000000000000000000000000000000000000000000000081600081518110611828576118286136ad565b6001600160a01b03928316602091820292909201015260065460018401546003850154604051637be7d14160e01b815260009493841693637be7d14193349361188a93899392909216918190899030908e9083908a9082908590600401613a50565b60206040518083038185885af11580156118a8573d6000803e3d6000fd5b50505050506040513d601f19601f820116820180604052508101906118cd91906137dd565b6000818152600c6020526040908190208790555190915085907f6247b5773245bcc55049ce27f18c12f8f73c911846c4057a2ade38ceb0765047906119159087815260200190565b60405180910390a250505061192960018055565b5050565b6119356129f7565b6001600160a01b03811661197c5760405162461bcd60e51b815260206004820152600e60248201526d496e76616c6964206f7261636c6560901b6044820152606401610891565b600580546001600160a01b0319166001600160a01b0392909216919091179055565b6119a66129f7565b6001600160a01b0381166119ed5760405162461bcd60e51b815260206004820152600e60248201526d496e76616c6964206f7261636c6560901b6044820152606401610891565b600380546001600160a01b0319166001600160a01b0392909216919091179055565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa158015611a76573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611a9a91906137dd565b905090565b611aa76129f7565b611ab16000612ef8565b565b600e6020526000908152604090208054600182015460028301805492936001600160a01b0390921692611ae590613673565b80601f0160208091040260200160405190810160405280929190818152602001828054611b1190613673565b8015611b5e5780601f10611b3357610100808354040283529160200191611b5e565b820191906000526020600020905b815481529060010190602001808311611b4157829003601f168201915b5050505050908060030154908060040154908060050154908060060154908060070154908060080154908060090160009054906101000a900460ff169080600a018054611baa90613673565b80601f0160208091040260200160405190810160405280929190818152602001828054611bd690613673565b8015611c235780601f10611bf857610100808354040283529160200191611c23565b820191906000526020600020905b815481529060010190602001808311611c0657829003601f168201915b505050505090508b565b611c356129f7565b6001600160a01b038116611c7b5760405162461bcd60e51b815260206004820152600d60248201526c125b9d985b1a59081859d95b9d609a1b6044820152606401610891565b600280546001600160a01b038381166001600160a01b0319831681179093556040519116919082907fee7760cb405d3beb1072ae2e716857daa45a5dd52bc1383a21173199d32c7dee90600090a35050565b6002546001600160a01b03163314611cf75760405162461bcd60e51b815260040161089190613786565b611cff612a24565b6000848152600e60205260409020600981015460ff16611d315760405162461bcd60e51b8152600401610891906136c3565b6000816003015411611d855760405162461bcd60e51b815260206004820152601960248201527f506f736974696f6e206e6f7420657865637574656420796574000000000000006044820152606401610891565b6000816003015485611d979190613ac3565b90506000670de0b6b3a7640000836004015483611db49190613aea565b611dbe9190613b1a565b60098401805460ff191690556040805188815260208101839052600083139181018290529192509088907f50afcf43fa95b82c2e5b1d4c890105a1a9d0cf2a1c2b261c5722a8ac72e320189060600160405180910390a250505050611e2260018055565b50505050565b611e306129f7565b600754600160a01b900460ff16611e7a5760405162461bcd60e51b815260206004820152600e60248201526d135d5cdd081899481c185d5cd95960921b6044820152606401610891565b816001600160a01b031663a9059cbb611e9b6000546001600160a01b031690565b6040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602481018490526044016020604051808303816000875af1158015611ee8573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611f0c9190613b48565b50816001600160a01b03167f5fafa99d0643513820be26656b45130b01e1c03062e1266bf36f88cbd3bd96958260405161091891815260200190565b600a60205260009081526040902080546001820154600283015460038401546004850154600586015460068701546007880154600889015460098a018054999a6001600160a01b039099169997989697959694959394929360ff9092169291611fb090613673565b80601f0160208091040260200160405190810160405280929190818152602001828054611fdc90613673565b80156120295780601f10611ffe57610100808354040283529160200191612029565b820191906000526020600020905b81548152906001019060200180831161200c57829003601f168201915b505050505090508a565b600d6020526000908152604090208054819061204e90613673565b80601f016020809104026020016040519081016040528092919081815260200182805461207a90613673565b80156120c75780601f1061209c576101008083540402835291602001916120c7565b820191906000526020600020905b8154815290600101906020018083116120aa57829003601f168201915b50505050600183015460029093015491926001600160a01b031691905083565b600754600160a01b900460ff16156121115760405162461bcd60e51b8152600401610891906137b4565b612119612a24565b6000811161215e5760405162461bcd60e51b81526020600482015260126024820152710416d6f756e74206d757374206265203e20360741b6044820152606401610891565b6040516323b872dd60e01b8152336004820152306024820152604481018290527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906323b872dd906064016020604051808303816000875af11580156121d1573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906121f59190613b48565b5060405181815233907fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c9060200160405180910390a261223460018055565b50565b61223f6129f7565b8060098484604051612252929190613b65565b908152604051908190036020018120805492151560ff19909316929092179091557f3ee02d0516758866a38b0cf3cf4bb036ecb06c7f499802313a8fd7a203986a31906122a490859085908590613b75565b60405180910390a1505050565b6060600060015b600f5481116122fb576000818152600e602052604090206009015460ff16156122e957816122e58161365a565b9250505b806122f38161365a565b9150506122b8565b5060008167ffffffffffffffff811115612317576123176130ff565b6040519080825280602002602001820160405280156123b057816020015b61239d6040518061016001604052806000815260200160006001600160a01b0316815260200160608152602001600081526020016000815260200160008152602001600081526020016000815260200160008152602001600015158152602001606081525090565b8152602001906001900390816123355790505b509050600060015b600f548111610ba5576000818152600e602052604090206009015460ff16156125b6576000818152600e60209081526040918290208251610160810184528154815260018201546001600160a01b031692810192909252600281018054929391929184019161242690613673565b80601f016020809104026020016040519081016040528092919081815260200182805461245290613673565b801561249f5780601f106124745761010080835404028352916020019161249f565b820191906000526020600020905b81548152906001019060200180831161248257829003601f168201915b505050918352505060038201546020820152600482015460408201526005820154606082015260068201546080820152600782015460a0820152600882015460c0820152600982015460ff16151560e0820152600a820180546101009092019161250890613673565b80601f016020809104026020016040519081016040528092919081815260200182805461253490613673565b80156125815780601f1061255657610100808354040283529160200191612581565b820191906000526020600020905b81548152906001019060200180831161256457829003601f168201915b50505050508152505083838151811061259c5761259c6136ad565b602002602001018190525081806125b29061365a565b9250505b806125c08161365a565b9150506123b8565b6002546001600160a01b031633146125f25760405162461bcd60e51b815260040161089190613786565b6000838152600e60205260409020600981015460ff166126245760405162461bcd60e51b8152600401610891906136c3565b6003810154156126695760405162461bcd60e51b815260206004820152601060248201526f105b1c9958591e48195e1958dd5d195960821b6044820152606401610891565b6003810182905560048101839055604080518481526020810184905285917fc22cfb031d313217f2095b15bcd7d36f0bfe049f29a050d9501f508a9539e6f5910160405180910390a250505050565b6006546001600160a01b031633146127125760405162461bcd60e51b815260206004820152601860248201527f4f6e6c7920474d5820506f736974696f6e20526f7574657200000000000000006044820152606401610891565b6000838152600c6020526040902054806127655760405162461bcd60e51b8152602060048201526014602482015273556e6b6e6f776e20706f736974696f6e206b657960601b6044820152606401610891565b604080518415158152831515602082015290810182905284907fe45146af23e054123b1f7dc1c23ac23a43a814759f294bb3009c2a38b69bffea9060600160405180910390a2826127b65750505050565b81156127c25750505050565b6000818152600a602052604080822090516370a0823160e01b81523060048201529091907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa158015612837573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061285b91906137dd565b9050600082600201548261286f9190613ac3565b6007546001850154604051637092736960e11b81526001600160a01b03918216600482015292935060009291169063e124e6d290602401602060405180830381865afa1580156128c3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906128e791906137dd565b905060008083136128f95760026128fc565b60015b600480546040516301585af960e61b81529293506001600160a01b031691635616be4091612930918a918791879101613b9b565b600060405180830381600087803b15801561294a57600080fd5b505af115801561295e573d6000803e3d6000fd5b5050505060088501805460ff19169055604080518381526020810185905290810185905286907f193b2bf91c5913b3a5661aeb59544a5e241b84748fec77d039738c13ede751dc9060600160405180910390a2505050505050505050565b6129c46129f7565b6001600160a01b0381166129ee57604051631e4fbdf760e01b815260006004820152602401610891565b61223481612ef8565b6000546001600160a01b03163314611ab15760405163118cdaa760e01b8152336004820152602401610891565b600260015403612a4757604051633ee5aeb560e01b815260040160405180910390fd5b6002600155565b600080612a5b85876137f6565b612a6f9069d3c21bcecceda10000006137f6565b60065460405163095ea7b360e01b81526001600160a01b039182166004820152602481018990529192507f0000000000000000000000000000000000000000000000000000000000000000169063095ea7b3906044016020604051808303816000875af1158015612ae4573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612b089190613b48565b50604080516001808252818301909252600091602080830190803683370190505090507f000000000000000000000000000000000000000000000000000000000000000081600081518110612b5f57612b5f6136ad565b60200260200101906001600160a01b031690816001600160a01b0316815250506000600660009054906101000a90046001600160a01b03166001600160a01b031663f2ae372f34848c8c60008960008e346000801b306040518c63ffffffff1660e01b8152600401612bda9a99989796959493929190613bd5565b60206040518083038185885af1158015612bf8573d6000803e3d6000fd5b50505050506040513d601f19601f82011682018060405250810190612c1d91906137dd565b600b80549192506000612c2f8361365a565b9190505550600b5493506040518061014001604052808581526020018a6001600160a01b0316815260200189815260200184815260200188815260200187815260200142815260200182815260200160011515815260200160405180604001604052806008815260200167617262697472756d60c01b815250815250600a60008681526020019081526020016000206000820151816000015560208201518160010160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060408201518160020155606082015181600301556080820151816004015560a0820151816005015560c0820151816006015560e082015181600701556101008201518160080160006101000a81548160ff021916908315150217905550610120820151816009019081612d68919061388c565b5050506000818152600c6020526040808220869055600354905163a840a0fd60e01b81526001600160a01b039091169063a840a0fd90612dac908d90600401613999565b600060405180830381865afa158015612dc9573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052612df19190810190613c40565b6004549091506001600160a01b03166363cd895c8b8980612e1a89670de0b6b3a76400006137f6565b612e249190613829565b8d8b876040518763ffffffff1660e01b8152600401612e4896959493929190613ce6565b6020604051808303816000875af1158015612e67573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612e8b91906137dd565b50604080518a81526020810186905290810189905261ffff87166060820152608081018390526001600160a01b038b169086907fa769ee52589b3d2262bab05b9116e51eab390a08dfab24016553f2e5763f05229060a00160405180910390a35050505095945050505050565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80356001600160a01b0381168114612f5f57600080fd5b919050565b600060208284031215612f7657600080fd5b612f7f82612f48565b9392505050565b801515811461223457600080fd5b60008060408385031215612fa757600080fd5b612fb083612f48565b91506020830135612fc081612f86565b809150509250929050565b6000815180845260005b81811015612ff157602081850181015186830182015201612fd5565b506000602082860101526020601f19601f83011685010191505092915050565b60006020808301818452808551808352604092508286019150828160051b87010184880160005b838110156130d857603f19898403018552815180518452878101516001600160a01b0316888501528681015187850152606080820151908501526080808201519085015260a0808201519085015260c0808201519085015260e080820151908501526101008082015115159085015261012090810151610140918501829052906130c481860183612fcb565b968901969450505090860190600101613038565b509098975050505050505050565b6000602082840312156130f857600080fd5b5035919050565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f1916810167ffffffffffffffff8111828210171561313e5761313e6130ff565b604052919050565b6000602080838503121561315957600080fd5b823567ffffffffffffffff8082111561317157600080fd5b818501915085601f83011261318557600080fd5b813581811115613197576131976130ff565b6131a9601f8201601f19168501613115565b915080825286848285010111156131bf57600080fd5b8084840185840137600090820190930192909252509392505050565b60008083601f8401126131ed57600080fd5b50813567ffffffffffffffff81111561320557600080fd5b60208301915083602082850101111561321d57600080fd5b9250929050565b600080600080600080600060c0888a03121561323f57600080fd5b61324888612f48565b9650602088013567ffffffffffffffff81111561326457600080fd5b6132708a828b016131db565b989b909a509798604081013598606082013598506080820135975060a09091013595509350505050565b6000602082840312156132ac57600080fd5b8135612f7f81612f86565b600080600080608085870312156132cd57600080fd5b6132d685612f48565b966020860135965060408601359560600135945092505050565b6000806040838503121561330357600080fd5b50508035926020909101359150565b8b81526001600160a01b038b1660208201526101606040820181905260009061333d8382018d612fcb565b90508a60608401528960808401528860a08401528760c08401528660e0840152856101008401528415156101208401528281036101408401526133808185612fcb565b9e9d5050505050505050505050505050565b600080600080606085870312156133a857600080fd5b8435935060208501359250604085013567ffffffffffffffff8111156133cd57600080fd5b6133d9878288016131db565b95989497509550505050565b600080604083850312156133f857600080fd5b61340183612f48565b946020939093013593505050565b60006101408c835260018060a01b038c1660208401528a60408401528960608401528860808401528760a08401528660c08401528560e08401528415156101008401528061012084015261346581840185612fcb565b9d9c50505050505050505050505050565b6060815260006134896060830186612fcb565b6001600160a01b039490941660208301525060400152919050565b6000806000604084860312156134b957600080fd5b833567ffffffffffffffff8111156134d057600080fd5b6134dc868287016131db565b90945092505060208401356134f081612f86565b809150509250925092565b60006020808301818452808551808352604092508286019150828160051b87010184880160005b838110156130d857603f19898403018552815180518452878101516001600160a01b031688850152868101516101608886018190529061356482870182612fcb565b606084810151908801526080808501519088015260a0808501519088015260c0808501519088015260e08085015190880152610100808501519088015261012080850151151590880152610140938401518782039488019490945291506135cd90508183612fcb565b968901969450505090860190600101613522565b6000806000606084860312156135f657600080fd5b505081359360208301359350604090920135919050565b60008060006060848603121561362257600080fd5b83359250602084013561363481612f86565b915060408401356134f081612f86565b634e487b7160e01b600052601160045260246000fd5b60006001820161366c5761366c613644565b5060010190565b600181811c9082168061368757607f821691505b6020821081036136a757634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052603260045260246000fd5b6020808252601190820152702837b9b4ba34b7b7103737ba1037b832b760791b604082015260600190565b600080600080600080600080610100898b03121561370b57600080fd5b885197506020890151965060408901519550606089015194506080890151935060a0890151925060c089015161374081612f86565b8092505060e089015190509295985092959890939650565b6000806040838503121561376b57600080fd5b825161377681612f86565b6020939093015192949293505050565b602080825260149082015273139bdd08185d5d1a1bdc9a5e9959081859d95b9d60621b604082015260600190565b6020808252600f908201526e15985d5b1d081a5cc81c185d5cd959608a1b604082015260600190565b6000602082840312156137ef57600080fd5b5051919050565b808202811582820484141761380d5761380d613644565b92915050565b634e487b7160e01b600052601260045260246000fd5b60008261383857613838613813565b500490565b601f82111561388757600081815260208120601f850160051c810160208610156138645750805b601f850160051c820191505b8181101561388357828155600101613870565b5050505b505050565b815167ffffffffffffffff8111156138a6576138a66130ff565b6138ba816138b48454613673565b8461383d565b602080601f8311600181146138ef57600084156138d75750858301515b600019600386901b1c1916600185901b178555613883565b600085815260208120601f198616915b8281101561391e578886015182559484019460019091019084016138ff565b508582101561393c5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b60408152600061398960408301858761394c565b9050826020830152949350505050565b6001600160a01b038216815260406020820181905260089082015267617262697472756d60c01b6060820152600060808201612f7f565b600080604083850312156139e357600080fd5b825161ffff811681146139f557600080fd5b602084015190925060ff81168114612fc057600080fd5b600081518084526020808501945080840160005b83811015613a455781516001600160a01b031687529582019590820190600101613a20565b509495945050505050565b6000610160808352613a648184018f613a0c565b6001600160a01b039d8e166020850152604084019c909c5250506060810198909852951515608088015293881660a087015260c086019290925260e0850152610100840152151561012083015290921661014090920191909152919050565b8181036000831280158383131683831282161715613ae357613ae3613644565b5092915050565b80820260008212600160ff1b84141615613b0657613b06613644565b818105831482151761380d5761380d613644565b600082613b2957613b29613813565b600160ff1b821460001984141615613b4357613b43613644565b500590565b600060208284031215613b5a57600080fd5b8151612f7f81612f86565b8183823760009101908152919050565b604081526000613b8960408301858761394c565b90508215156020830152949350505050565b838152602081018390526060810160058310613bc757634e487b7160e01b600052602160045260246000fd5b826040830152949350505050565b6000610140808352613be98184018e613a0c565b6001600160a01b039c8d166020850152604084019b909b5250506060810197909752608087019590955292151560a086015260c085019190915260e084015261010083015290921661012090920191909152919050565b60006020808385031215613c5357600080fd5b825167ffffffffffffffff80821115613c6b57600080fd5b818501915085601f830112613c7f57600080fd5b815181811115613c9157613c916130ff565b8060051b9150613ca2848301613115565b8181529183018401918481019088841115613cbc57600080fd5b938501935b83851015613cda57845182529385019390850190613cc1565b98975050505050505050565b6001600160a01b038716815260e06020808301829052600091613d209084016008815267617262697472756d60c01b602082015260400190565b60408401899052606084018890526080840187905261ffff861660a085015283810360c085015284518082528286019183019060005b81811015613d7257835183529284019291840191600101613d56565b50909b9a505050505050505050505056fea26469706673582212208d05eb95d03ba9e4dd64b334853f471b186578387667ced56677d630fdee126864736f6c63430008140033",
  "deployedBytecode": "0x60806040526004361061025c5760003560e01c80637c6f360c11610144578063c657e7c2116100b6578063db0d0ee71161007a578063db0d0ee71461078b578063e286035b146107ad578063e54f8f45146107ce578063edf3daec146107ee578063f2fde38b1461080e578063fce963671461082e57600080fd5b8063c657e7c214610701578063cb2a006d14610721578063cc66389214610741578063ce76597814610761578063d57f46661461077657600080fd5b806395ccea671161010857806395ccea671461060f57806399fbab881461062f578063ae082c6e14610665578063ae10fde014610694578063b3b3453e146106c1578063b6b55f25146106e157600080fd5b80637c6f360c14610546578063895ce1851461057d57806389a302711461059d5780638a3d4e52146105d15780638da5cb5b146105f157600080fd5b80632d6ce61d116101dd57806352eca321116101a157806352eca321146104a05780635c975abb146104b557806363d5ab8d146104d65780636d1ea3fa146104ec578063715018a61461051c57806372e2c3f41461053157600080fd5b80632d6ce61d1461040d578063386136901461042057806339d1fc8214610440578063464d179d146104605780634aae134c1461048057600080fd5b806313e5f2db1161022457806313e5f2db14610337578063158cbd631461038257806316c38b3c146103a25780631ed54565146103c25780632630c12f146103d557600080fd5b806308a5f0c3146102615780630ae053ca146102895780630c0e0cef146102ab5780630fbac333146102cb57806313d90a29146102ed575b600080fd5b34801561026d57600080fd5b50610276604681565b6040519081526020015b60405180910390f35b34801561029557600080fd5b506102a96102a4366004612f64565b610844565b005b3480156102b757600080fd5b506102a96102c6366004612f94565b6108bc565b3480156102d757600080fd5b506102e0610924565b6040516102809190613011565b3480156102f957600080fd5b5061030d6103083660046130e6565b610bae565b6040805195865260208601949094529284019190915215156060830152608082015260a001610280565b34801561034357600080fd5b50610372610352366004613146565b805160208183018101805160098252928201919093012091525460ff1681565b6040519015158152602001610280565b34801561038e57600080fd5b5061027661039d366004613224565b610e61565b3480156103ae57600080fd5b506102a96103bd36600461329a565b61122c565b6102766103d03660046132b7565b611252565b3480156103e157600080fd5b506005546103f5906001600160a01b031681565b6040516001600160a01b039091168152602001610280565b6102a961041b3660046132f0565b6116a8565b34801561042c57600080fd5b506002546103f5906001600160a01b031681565b34801561044c57600080fd5b506102a961045b366004612f64565b61192d565b34801561046c57600080fd5b506004546103f5906001600160a01b031681565b34801561048c57600080fd5b506102a961049b366004612f64565b61199e565b3480156104ac57600080fd5b50610276611a0f565b3480156104c157600080fd5b5060075461037290600160a01b900460ff1681565b3480156104e257600080fd5b50610276600b5481565b3480156104f857600080fd5b50610372610507366004612f64565b60086020526000908152604090205460ff1681565b34801561052857600080fd5b506102a9611a9f565b34801561053d57600080fd5b50610276600281565b34801561055257600080fd5b506105666105613660046130e6565b611ab3565b6040516102809b9a99989796959493929190613312565b34801561058957600080fd5b506102a9610598366004612f64565b611c2d565b3480156105a957600080fd5b506103f57f000000000000000000000000000000000000000000000000000000000000000081565b3480156105dd57600080fd5b506102a96105ec366004613392565b611ccd565b3480156105fd57600080fd5b506000546001600160a01b03166103f5565b34801561061b57600080fd5b506102a961062a3660046133e5565b611e28565b34801561063b57600080fd5b5061064f61064a3660046130e6565b611f48565b6040516102809a9998979695949392919061340f565b34801561067157600080fd5b506106856106803660046130e6565b612033565b60405161028093929190613476565b3480156106a057600080fd5b506102766106af3660046130e6565b600c6020526000908152604090205481565b3480156106cd57600080fd5b506007546103f5906001600160a01b031681565b3480156106ed57600080fd5b506102a96106fc3660046130e6565b6120e7565b34801561070d57600080fd5b506006546103f5906001600160a01b031681565b34801561072d57600080fd5b506102a961073c3660046134a4565b612237565b34801561074d57600080fd5b506003546103f5906001600160a01b031681565b34801561076d57600080fd5b50610276601481565b34801561078257600080fd5b50610276600581565b34801561079757600080fd5b506107a06122b1565b60405161028091906134fb565b3480156107b957600080fd5b506102766c0c9f2c9cd04674edea4000000081565b3480156107da57600080fd5b506102a96107e93660046135e1565b6125c8565b3480156107fa57600080fd5b506102a961080936600461360d565b6126b8565b34801561081a57600080fd5b506102a9610829366004612f64565b6129bc565b34801561083a57600080fd5b50610276600f5481565b61084c6129f7565b6001600160a01b03811661089a5760405162461bcd60e51b815260206004820152601060248201526f496e76616c696420726567697374727960801b60448201526064015b60405180910390fd5b600480546001600160a01b0319166001600160a01b0392909216919091179055565b6108c46129f7565b6001600160a01b038216600081815260086020908152604091829020805460ff191685151590811790915591519182527f54aee4f020b814c26f556399a354577e068193a82445e919505b00b9848512a591015b60405180910390a25050565b6060600060015b600b54811161096e576000818152600a602052604090206008015460ff161561095c57816109588161365a565b9250505b806109668161365a565b91505061092b565b5060008167ffffffffffffffff81111561098a5761098a6130ff565b604051908082528060200260200182016040528015610a1f57816020015b610a0c6040518061014001604052806000815260200160006001600160a01b03168152602001600081526020016000815260200160008152602001600081526020016000815260200160008019168152602001600015158152602001606081525090565b8152602001906001900390816109a85790505b509050600060015b600b548111610ba5576000818152600a602052604090206008015460ff1615610b93576000818152600a60209081526040918290208251610140810184528154815260018201546001600160a01b0316928101929092526002810154928201929092526003820154606082015260048201546080820152600582015460a0820152600682015460c0820152600782015460e0820152600882015460ff16151561010082015260098201805491929161012084019190610ae590613673565b80601f0160208091040260200160405190810160405280929190818152602001828054610b1190613673565b8015610b5e5780601f10610b3357610100808354040283529160200191610b5e565b820191906000526020600020905b815481529060010190602001808311610b4157829003601f168201915b505050505081525050838381518110610b7957610b796136ad565b60200260200101819052508180610b8f9061365a565b9250505b80610b9d8161365a565b915050610a27565b50909392505050565b6000818152600a602090815260408083208151610140810183528154815260018201546001600160a01b0316938101939093526002810154918301919091526003810154606083015260048101546080830152600581015460a0830152600681015460c0830152600781015460e0830152600881015460ff161515610100830152600981018054849384938493849384939291610120840191610c5090613673565b80601f0160208091040260200160405190810160405280929190818152602001828054610c7c90613673565b8015610cc95780601f10610c9e57610100808354040283529160200191610cc9565b820191906000526020600020905b815481529060010190602001808311610cac57829003601f168201915b5050505050815250509050806101000151610cf65760405162461bcd60e51b8152600401610891906136c3565b6007546020820151604051634a3f088d60e01b81523060048201526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000081166024830152918216604482015260006064820152911690634a3f088d9060840161010060405180830381865afa158015610d7a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d9e91906136ee565b5050600754602088015160405163045a6f3760e41b81523060048201526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000081166024830152918216604482015260006064820152979d50959b5093995050509116916345a6f37091506084016040805180830381865afa158015610e2e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e529190613758565b90935091505091939590929450565b6002546000906001600160a01b03163314610e8e5760405162461bcd60e51b815260040161089190613786565b600754600160a01b900460ff1615610eb85760405162461bcd60e51b8152600401610891906137b4565b610ec0612a24565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa158015610f27573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610f4b91906137dd565b905060006064610f5c6005846137f6565b610f669190613829565b905080871115610fb85760405162461bcd60e51b815260206004820152601860248201527f446970206275792065786365656473206d61782073697a6500000000000000006044820152606401610891565b818711156110085760405162461bcd60e51b815260206004820152601a60248201527f496e73756666696369656e74207661756c742062616c616e63650000000000006044820152606401610891565b83851161104e5760405162461bcd60e51b8152602060048201526014602482015273496e76616c69642054502f534c2070726963657360601b6044820152606401610891565b600f805490600061105e8361365a565b9190505550600f5492506040518061016001604052808481526020018b6001600160a01b031681526020018a8a8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092018290525093855250505060208083018290526040808401839052606084018c9052608084018a905260a084018990524260c0850152600160e08501819052815180830183526008815267617262697472756d60c01b8185015261010090950194909452878352600e825291829020845181559084015192810180546001600160a01b0319166001600160a01b03909416939093179092558201516002820190611160908261388c565b50606082015160038201556080820151600482015560a0820151600582015560c0820151600682015560e08201516007820155610100820151600882015561012082015160098201805460ff1916911515919091179055610140820151600a8201906111cc908261388c565b50905050896001600160a01b0316837f31c3512421767c966e54ffda2b02a95492568a11632cd3ca7ae7253bd67ded128b8b8b60405161120e93929190613975565b60405180910390a3505061122160018055565b979650505050505050565b6112346129f7565b60078054911515600160a01b0260ff60a01b19909216919091179055565b6002546000906001600160a01b0316331461127f5760405162461bcd60e51b815260040161089190613786565b600754600160a01b900460ff16156112a95760405162461bcd60e51b8152600401610891906137b4565b6112b1612a24565b6001600160a01b03851660009081526008602052604090205460ff1661130e5760405162461bcd60e51b8152602060048201526012602482015271151bdad95b881b9bdd08185c1c1c9bdd995960721b6044820152606401610891565b60018310158015611320575060328311155b61135f5760405162461bcd60e51b815260206004820152601060248201526f496e76616c6964206c6576657261676560801b6044820152606401610891565b600660009054906101000a90046001600160a01b03166001600160a01b03166363ae21036040518163ffffffff1660e01b8152600401602060405180830381865afa1580156113b2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906113d691906137dd565b3410156114255760405162461bcd60e51b815260206004820152601a60248201527f496e73756666696369656e7420657865637574696f6e206665650000000000006044820152606401610891565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa15801561148c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906114b091906137dd565b9050600060646114c16014846137f6565b6114cb9190613829565b90508086111561151d5760405162461bcd60e51b815260206004820152601960248201527f506f736974696f6e2065786365656473206d61782073697a65000000000000006044820152606401610891565b8186111561156d5760405162461bcd60e51b815260206004820152601a60248201527f496e73756666696369656e74207661756c742062616c616e63650000000000006044820152606401610891565b6003546040516312f8486360e01b815260009182916001600160a01b03909116906312f84863906115a2908c90600401613999565b6040805180830381865afa1580156115be573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906115e291906139d0565b9150915060468261ffff1610156116305760405162461bcd60e51b8152602060048201526012602482015271436f6e666964656e636520746f6f206c6f7760701b6044820152606401610891565b60028160ff1610156116845760405162461bcd60e51b815260206004820152601760248201527f4e656564206174206c656173742032207369676e616c730000000000000000006044820152606401610891565b6116918989898986612a4e565b9450505050506116a060018055565b949350505050565b6002546001600160a01b031633146116d25760405162461bcd60e51b815260040161089190613786565b6116da612a24565b6000828152600a60205260409020600881015460ff1661170c5760405162461bcd60e51b8152600401610891906136c3565b600660009054906101000a90046001600160a01b03166001600160a01b03166363ae21036040518163ffffffff1660e01b8152600401602060405180830381865afa15801561175f573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061178391906137dd565b3410156117d25760405162461bcd60e51b815260206004820152601a60248201527f496e73756666696369656e7420657865637574696f6e206665650000000000006044820152606401610891565b604080516001808252818301909252600091602080830190803683370190505090507f000000000000000000000000000000000000000000000000000000000000000081600081518110611828576118286136ad565b6001600160a01b03928316602091820292909201015260065460018401546003850154604051637be7d14160e01b815260009493841693637be7d14193349361188a93899392909216918190899030908e9083908a9082908590600401613a50565b60206040518083038185885af11580156118a8573d6000803e3d6000fd5b50505050506040513d601f19601f820116820180604052508101906118cd91906137dd565b6000818152600c6020526040908190208790555190915085907f6247b5773245bcc55049ce27f18c12f8f73c911846c4057a2ade38ceb0765047906119159087815260200190565b60405180910390a250505061192960018055565b5050565b6119356129f7565b6001600160a01b03811661197c5760405162461bcd60e51b815260206004820152600e60248201526d496e76616c6964206f7261636c6560901b6044820152606401610891565b600580546001600160a01b0319166001600160a01b0392909216919091179055565b6119a66129f7565b6001600160a01b0381166119ed5760405162461bcd60e51b815260206004820152600e60248201526d496e76616c6964206f7261636c6560901b6044820152606401610891565b600380546001600160a01b0319166001600160a01b0392909216919091179055565b6040516370a0823160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa158015611a76573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611a9a91906137dd565b905090565b611aa76129f7565b611ab16000612ef8565b565b600e6020526000908152604090208054600182015460028301805492936001600160a01b0390921692611ae590613673565b80601f0160208091040260200160405190810160405280929190818152602001828054611b1190613673565b8015611b5e5780601f10611b3357610100808354040283529160200191611b5e565b820191906000526020600020905b815481529060010190602001808311611b4157829003601f168201915b5050505050908060030154908060040154908060050154908060060154908060070154908060080154908060090160009054906101000a900460ff169080600a018054611baa90613673565b80601f0160208091040260200160405190810160405280929190818152602001828054611bd690613673565b8015611c235780601f10611bf857610100808354040283529160200191611c23565b820191906000526020600020905b815481529060010190602001808311611c0657829003601f168201915b505050505090508b565b611c356129f7565b6001600160a01b038116611c7b5760405162461bcd60e51b815260206004820152600d60248201526c125b9d985b1a59081859d95b9d609a1b6044820152606401610891565b600280546001600160a01b038381166001600160a01b0319831681179093556040519116919082907fee7760cb405d3beb1072ae2e716857daa45a5dd52bc1383a21173199d32c7dee90600090a35050565b6002546001600160a01b03163314611cf75760405162461bcd60e51b815260040161089190613786565b611cff612a24565b6000848152600e60205260409020600981015460ff16611d315760405162461bcd60e51b8152600401610891906136c3565b6000816003015411611d855760405162461bcd60e51b815260206004820152601960248201527f506f736974696f6e206e6f7420657865637574656420796574000000000000006044820152606401610891565b6000816003015485611d979190613ac3565b90506000670de0b6b3a7640000836004015483611db49190613aea565b611dbe9190613b1a565b60098401805460ff191690556040805188815260208101839052600083139181018290529192509088907f50afcf43fa95b82c2e5b1d4c890105a1a9d0cf2a1c2b261c5722a8ac72e320189060600160405180910390a250505050611e2260018055565b50505050565b611e306129f7565b600754600160a01b900460ff16611e7a5760405162461bcd60e51b815260206004820152600e60248201526d135d5cdd081899481c185d5cd95960921b6044820152606401610891565b816001600160a01b031663a9059cbb611e9b6000546001600160a01b031690565b6040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602481018490526044016020604051808303816000875af1158015611ee8573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611f0c9190613b48565b50816001600160a01b03167f5fafa99d0643513820be26656b45130b01e1c03062e1266bf36f88cbd3bd96958260405161091891815260200190565b600a60205260009081526040902080546001820154600283015460038401546004850154600586015460068701546007880154600889015460098a018054999a6001600160a01b039099169997989697959694959394929360ff9092169291611fb090613673565b80601f0160208091040260200160405190810160405280929190818152602001828054611fdc90613673565b80156120295780601f10611ffe57610100808354040283529160200191612029565b820191906000526020600020905b81548152906001019060200180831161200c57829003601f168201915b505050505090508a565b600d6020526000908152604090208054819061204e90613673565b80601f016020809104026020016040519081016040528092919081815260200182805461207a90613673565b80156120c75780601f1061209c576101008083540402835291602001916120c7565b820191906000526020600020905b8154815290600101906020018083116120aa57829003601f168201915b50505050600183015460029093015491926001600160a01b031691905083565b600754600160a01b900460ff16156121115760405162461bcd60e51b8152600401610891906137b4565b612119612a24565b6000811161215e5760405162461bcd60e51b81526020600482015260126024820152710416d6f756e74206d757374206265203e20360741b6044820152606401610891565b6040516323b872dd60e01b8152336004820152306024820152604481018290527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906323b872dd906064016020604051808303816000875af11580156121d1573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906121f59190613b48565b5060405181815233907fe1fffcc4923d04b559f4d29a8bfc6cda04eb5b0d3c460751c2402c5c5cc9109c9060200160405180910390a261223460018055565b50565b61223f6129f7565b8060098484604051612252929190613b65565b908152604051908190036020018120805492151560ff19909316929092179091557f3ee02d0516758866a38b0cf3cf4bb036ecb06c7f499802313a8fd7a203986a31906122a490859085908590613b75565b60405180910390a1505050565b6060600060015b600f5481116122fb576000818152600e602052604090206009015460ff16156122e957816122e58161365a565b9250505b806122f38161365a565b9150506122b8565b5060008167ffffffffffffffff811115612317576123176130ff565b6040519080825280602002602001820160405280156123b057816020015b61239d6040518061016001604052806000815260200160006001600160a01b0316815260200160608152602001600081526020016000815260200160008152602001600081526020016000815260200160008152602001600015158152602001606081525090565b8152602001906001900390816123355790505b509050600060015b600f548111610ba5576000818152600e602052604090206009015460ff16156125b6576000818152600e60209081526040918290208251610160810184528154815260018201546001600160a01b031692810192909252600281018054929391929184019161242690613673565b80601f016020809104026020016040519081016040528092919081815260200182805461245290613673565b801561249f5780601f106124745761010080835404028352916020019161249f565b820191906000526020600020905b81548152906001019060200180831161248257829003601f168201915b505050918352505060038201546020820152600482015460408201526005820154606082015260068201546080820152600782015460a0820152600882015460c0820152600982015460ff16151560e0820152600a820180546101009092019161250890613673565b80601f016020809104026020016040519081016040528092919081815260200182805461253490613673565b80156125815780601f1061255657610100808354040283529160200191612581565b820191906000526020600020905b81548152906001019060200180831161256457829003601f168201915b50505050508152505083838151811061259c5761259c6136ad565b602002602001018190525081806125b29061365a565b9250505b806125c08161365a565b9150506123b8565b6002546001600160a01b031633146125f25760405162461bcd60e51b815260040161089190613786565b6000838152600e60205260409020600981015460ff166126245760405162461bcd60e51b8152600401610891906136c3565b6003810154156126695760405162461bcd60e51b815260206004820152601060248201526f105b1c9958591e48195e1958dd5d195960821b6044820152606401610891565b6003810182905560048101839055604080518481526020810184905285917fc22cfb031d313217f2095b15bcd7d36f0bfe049f29a050d9501f508a9539e6f5910160405180910390a250505050565b6006546001600160a01b031633146127125760405162461bcd60e51b815260206004820152601860248201527f4f6e6c7920474d5820506f736974696f6e20526f7574657200000000000000006044820152606401610891565b6000838152600c6020526040902054806127655760405162461bcd60e51b8152602060048201526014602482015273556e6b6e6f776e20706f736974696f6e206b657960601b6044820152606401610891565b604080518415158152831515602082015290810182905284907fe45146af23e054123b1f7dc1c23ac23a43a814759f294bb3009c2a38b69bffea9060600160405180910390a2826127b65750505050565b81156127c25750505050565b6000818152600a602052604080822090516370a0823160e01b81523060048201529091907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906370a0823190602401602060405180830381865afa158015612837573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061285b91906137dd565b9050600082600201548261286f9190613ac3565b6007546001850154604051637092736960e11b81526001600160a01b03918216600482015292935060009291169063e124e6d290602401602060405180830381865afa1580156128c3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906128e791906137dd565b905060008083136128f95760026128fc565b60015b600480546040516301585af960e61b81529293506001600160a01b031691635616be4091612930918a918791879101613b9b565b600060405180830381600087803b15801561294a57600080fd5b505af115801561295e573d6000803e3d6000fd5b5050505060088501805460ff19169055604080518381526020810185905290810185905286907f193b2bf91c5913b3a5661aeb59544a5e241b84748fec77d039738c13ede751dc9060600160405180910390a2505050505050505050565b6129c46129f7565b6001600160a01b0381166129ee57604051631e4fbdf760e01b815260006004820152602401610891565b61223481612ef8565b6000546001600160a01b03163314611ab15760405163118cdaa760e01b8152336004820152602401610891565b600260015403612a4757604051633ee5aeb560e01b815260040160405180910390fd5b6002600155565b600080612a5b85876137f6565b612a6f9069d3c21bcecceda10000006137f6565b60065460405163095ea7b360e01b81526001600160a01b039182166004820152602481018990529192507f0000000000000000000000000000000000000000000000000000000000000000169063095ea7b3906044016020604051808303816000875af1158015612ae4573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612b089190613b48565b50604080516001808252818301909252600091602080830190803683370190505090507f000000000000000000000000000000000000000000000000000000000000000081600081518110612b5f57612b5f6136ad565b60200260200101906001600160a01b031690816001600160a01b0316815250506000600660009054906101000a90046001600160a01b03166001600160a01b031663f2ae372f34848c8c60008960008e346000801b306040518c63ffffffff1660e01b8152600401612bda9a99989796959493929190613bd5565b60206040518083038185885af1158015612bf8573d6000803e3d6000fd5b50505050506040513d601f19601f82011682018060405250810190612c1d91906137dd565b600b80549192506000612c2f8361365a565b9190505550600b5493506040518061014001604052808581526020018a6001600160a01b0316815260200189815260200184815260200188815260200187815260200142815260200182815260200160011515815260200160405180604001604052806008815260200167617262697472756d60c01b815250815250600a60008681526020019081526020016000206000820151816000015560208201518160010160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060408201518160020155606082015181600301556080820151816004015560a0820151816005015560c0820151816006015560e082015181600701556101008201518160080160006101000a81548160ff021916908315150217905550610120820151816009019081612d68919061388c565b5050506000818152600c6020526040808220869055600354905163a840a0fd60e01b81526001600160a01b039091169063a840a0fd90612dac908d90600401613999565b600060405180830381865afa158015612dc9573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052612df19190810190613c40565b6004549091506001600160a01b03166363cd895c8b8980612e1a89670de0b6b3a76400006137f6565b612e249190613829565b8d8b876040518763ffffffff1660e01b8152600401612e4896959493929190613ce6565b6020604051808303816000875af1158015612e67573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612e8b91906137dd565b50604080518a81526020810186905290810189905261ffff87166060820152608081018390526001600160a01b038b169086907fa769ee52589b3d2262bab05b9116e51eab390a08dfab24016553f2e5763f05229060a00160405180910390a35050505095945050505050565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80356001600160a01b0381168114612f5f57600080fd5b919050565b600060208284031215612f7657600080fd5b612f7f82612f48565b9392505050565b801515811461223457600080fd5b60008060408385031215612fa757600080fd5b612fb083612f48565b91506020830135612fc081612f86565b809150509250929050565b6000815180845260005b81811015612ff157602081850181015186830182015201612fd5565b506000602082860101526020601f19601f83011685010191505092915050565b60006020808301818452808551808352604092508286019150828160051b87010184880160005b838110156130d857603f19898403018552815180518452878101516001600160a01b0316888501528681015187850152606080820151908501526080808201519085015260a0808201519085015260c0808201519085015260e080820151908501526101008082015115159085015261012090810151610140918501829052906130c481860183612fcb565b968901969450505090860190600101613038565b509098975050505050505050565b6000602082840312156130f857600080fd5b5035919050565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f1916810167ffffffffffffffff8111828210171561313e5761313e6130ff565b604052919050565b6000602080838503121561315957600080fd5b823567ffffffffffffffff8082111561317157600080fd5b818501915085601f83011261318557600080fd5b813581811115613197576131976130ff565b6131a9601f8201601f19168501613115565b915080825286848285010111156131bf57600080fd5b8084840185840137600090820190930192909252509392505050565b60008083601f8401126131ed57600080fd5b50813567ffffffffffffffff81111561320557600080fd5b60208301915083602082850101111561321d57600080fd5b9250929050565b600080600080600080600060c0888a03121561323f57600080fd5b61324888612f48565b9650602088013567ffffffffffffffff81111561326457600080fd5b6132708a828b016131db565b989b909a509798604081013598606082013598506080820135975060a09091013595509350505050565b6000602082840312156132ac57600080fd5b8135612f7f81612f86565b600080600080608085870312156132cd57600080fd5b6132d685612f48565b966020860135965060408601359560600135945092505050565b6000806040838503121561330357600080fd5b50508035926020909101359150565b8b81526001600160a01b038b1660208201526101606040820181905260009061333d8382018d612fcb565b90508a60608401528960808401528860a08401528760c08401528660e0840152856101008401528415156101208401528281036101408401526133808185612fcb565b9e9d5050505050505050505050505050565b600080600080606085870312156133a857600080fd5b8435935060208501359250604085013567ffffffffffffffff8111156133cd57600080fd5b6133d9878288016131db565b95989497509550505050565b600080604083850312156133f857600080fd5b61340183612f48565b946020939093013593505050565b60006101408c835260018060a01b038c1660208401528a60408401528960608401528860808401528760a08401528660c08401528560e08401528415156101008401528061012084015261346581840185612fcb565b9d9c50505050505050505050505050565b6060815260006134896060830186612fcb565b6001600160a01b039490941660208301525060400152919050565b6000806000604084860312156134b957600080fd5b833567ffffffffffffffff8111156134d057600080fd5b6134dc868287016131db565b90945092505060208401356134f081612f86565b809150509250925092565b60006020808301818452808551808352604092508286019150828160051b87010184880160005b838110156130d857603f19898403018552815180518452878101516001600160a01b031688850152868101516101608886018190529061356482870182612fcb565b606084810151908801526080808501519088015260a0808501519088015260c0808501519088015260e08085015190880152610100808501519088015261012080850151151590880152610140938401518782039488019490945291506135cd90508183612fcb565b968901969450505090860190600101613522565b6000806000606084860312156135f657600080fd5b505081359360208301359350604090920135919050565b60008060006060848603121561362257600080fd5b83359250602084013561363481612f86565b915060408401356134f081612f86565b634e487b7160e01b600052601160045260246000fd5b60006001820161366c5761366c613644565b5060010190565b600181811c9082168061368757607f821691505b6020821081036136a757634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052603260045260246000fd5b6020808252601190820152702837b9b4ba34b7b7103737ba1037b832b760791b604082015260600190565b600080600080600080600080610100898b03121561370b57600080fd5b885197506020890151965060408901519550606089015194506080890151935060a0890151925060c089015161374081612f86565b8092505060e089015190509295985092959890939650565b6000806040838503121561376b57600080fd5b825161377681612f86565b6020939093015192949293505050565b602080825260149082015273139bdd08185d5d1a1bdc9a5e9959081859d95b9d60621b604082015260600190565b6020808252600f908201526e15985d5b1d081a5cc81c185d5cd959608a1b604082015260600190565b6000602082840312156137ef57600080fd5b5051919050565b808202811582820484141761380d5761380d613644565b92915050565b634e487b7160e01b600052601260045260246000fd5b60008261383857613838613813565b500490565b601f82111561388757600081815260208120601f850160051c810160208610156138645750805b601f850160051c820191505b8181101561388357828155600101613870565b5050505b505050565b815167ffffffffffffffff8111156138a6576138a66130ff565b6138ba816138b48454613673565b8461383d565b602080601f8311600181146138ef57600084156138d75750858301515b600019600386901b1c1916600185901b178555613883565b600085815260208120601f198616915b8281101561391e578886015182559484019460019091019084016138ff565b508582101561393c5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b60408152600061398960408301858761394c565b9050826020830152949350505050565b6001600160a01b038216815260406020820181905260089082015267617262697472756d60c01b6060820152600060808201612f7f565b600080604083850312156139e357600080fd5b825161ffff811681146139f557600080fd5b602084015190925060ff81168114612fc057600080fd5b600081518084526020808501945080840160005b83811015613a455781516001600160a01b031687529582019590820190600101613a20565b509495945050505050565b6000610160808352613a648184018f613a0c565b6001600160a01b039d8e166020850152604084019c909c5250506060810198909852951515608088015293881660a087015260c086019290925260e0850152610100840152151561012083015290921661014090920191909152919050565b8181036000831280158383131683831282161715613ae357613ae3613644565b5092915050565b80820260008212600160ff1b84141615613b0657613b06613644565b818105831482151761380d5761380d613644565b600082613b2957613b29613813565b600160ff1b821460001984141615613b4357613b43613644565b500590565b600060208284031215613b5a57600080fd5b8151612f7f81612f86565b8183823760009101908152919050565b604081526000613b8960408301858761394c565b90508215156020830152949350505050565b838152602081018390526060810160058310613bc757634e487b7160e01b600052602160045260246000fd5b826040830152949350505050565b6000610140808352613be98184018e613a0c565b6001600160a01b039c8d166020850152604084019b909b5250506060810197909752608087019590955292151560a086015260c085019190915260e084015261010083015290921661012090920191909152919050565b60006020808385031215613c5357600080fd5b825167ffffffffffffffff80821115613c6b57600080fd5b818501915085601f830112613c7f57600080fd5b815181811115613c9157613c916130ff565b8060051b9150613ca2848301613115565b8181529183018401918481019088841115613cbc57600080fd5b938501935b83851015613cda57845182529385019390850190613cc1565b98975050505050505050565b6001600160a01b038716815260e06020808301829052600091613d209084016008815267617262697472756d60c01b602082015260400190565b60408401899052606084018890526080840187905261ffff861660a085015283810360c085015284518082528286019183019060005b81811015613d7257835183529284019291840191600101613d56565b50909b9a505050505050505050505056fea26469706673582212208d05eb95d03ba9e4dd64b334853f471b186578387667ced56677d630fdee126864736f6c63430008140033",
  "devdoc": {
    "details": "Holds USDC treasury, bridges via LI.FI, executes perpetual shorts on GMX  Architecture: 1. User funds on any chain  LI.FI bridges to Arbitrum 2. On Arbitrum, opens GMX perpetual SHORT position 3. Price crashes, GMX SHORT profits 4. Close position, bridge profits back via LI.FI",
    "errors": {
      "OwnableInvalidOwner(address)": [
        {
          "details": "The owner is not a valid owner account. (eg. `address(0)`)"
        }
      ],
      "OwnableUnauthorizedAccount(address)": [
        {
          "details": "The caller account is not authorized to perform an operation."
        }
      ],
      "ReentrancyGuardReentrantCall()": [
        {
          "details": "Unauthorized reentrant call."
        }
      ]
    },
    "kind": "dev",
    "methods": {
      "closeDipBuy(uint256,uint256,bytes)": {
        "params": {
          "exitPrice": "Current market price",
          "lifiCalldata": "LI.FI swap + bridge back calldata",
          "positionId": "Position to close"
        }
      },
      "closePosition(uint256,uint256)": {
        "details": "Bridging profits back is handled off-chain by LI.FI SDK",
        "params": {
          "minExitPrice": "Minimum acceptable exit price (30 decimals)",
          "positionId": "Position to close"
        }
      },
      "deposit(uint256)": {
        "params": {
          "amount": "Amount of USDC to deposit (6 decimals)"
        }
      },
      "executeDipBuy(address,string,uint256,uint256,uint256,uint256)": {
        "details": "Bridging is handled off-chain by LI.FI SDK",
        "params": {
          "amountUSDC": "USDC to spend on dip buy",
          "chain": "Chain where memecoin lives (e.g., \"base\", \"ethereum\")",
          "minTokensOut": "Minimum tokens expected from swap",
          "stopLossPrice": "Stop loss price (-15-20%)",
          "takeProfitPrice": "Target sell price for bounce (+30-50%)",
          "token": "Memecoin address on destination chain"
        },
        "returns": {
          "positionId": "Dip buy position ID"
        }
      },
      "executeShort(address,uint256,uint256,uint256)": {
        "details": "Cross-chain bridging is handled off-chain by LI.FI SDK (TypeScript)      This contract only opens GMX shorts with USDC already on Arbitrum ",
        "params": {
          "acceptablePrice": "Maximum entry price for short (30 decimals)",
          "amountUSDC": "Collateral amount in USDC (6 decimals)",
          "indexToken": "Token to short (e.g., WETH, WBTC)",
          "leverage": "Leverage multiplier (1-50x, typically 2-10x)"
        },
        "returns": {
          "positionId": "The ID of the created position"
        }
      },
      "gmxPositionCallback(bytes32,bool,bool)": {
        "details": "Called by GMX Position Router after position is executed"
      },
      "owner()": {
        "details": "Returns the address of the current owner."
      },
      "renounceOwnership()": {
        "details": "Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner."
      },
      "transferOwnership(address)": {
        "details": "Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."
      },
      "updateDipBuyExecution(uint256,uint256,uint256)": {
        "details": "Called by off-chain agent after monitoring swap execution",
        "params": {
          "executionPrice": "Actual execution price",
          "positionId": "Dip buy position ID",
          "tokensReceived": "Amount of tokens received from swap"
        }
      }
    },
    "title": "NexusVault",
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "closeDipBuy(uint256,uint256,bytes)": {
        "notice": "Close dip buy position (take profit or stop loss hit)"
      },
      "closePosition(uint256,uint256)": {
        "notice": "Close a GMX short position"
      },
      "deposit(uint256)": {
        "notice": "Deposit USDC into the vault"
      },
      "emergencyWithdraw(address,uint256)": {
        "notice": "Emergency withdraw - only callable if paused for >48 hours"
      },
      "executeDipBuy(address,string,uint256,uint256,uint256,uint256)": {
        "notice": "Buy memecoin dip after rug pull for dead cat bounce"
      },
      "executeShort(address,uint256,uint256,uint256)": {
        "notice": "Execute a GMX short position (USDC must already be on Arbitrum)"
      },
      "getGMXPositionInfo(uint256)": {
        "notice": "Get GMX position details for a NEXUS position"
      },
      "getOpenDipBuys()": {
        "notice": "Get all open dip buy positions"
      },
      "gmxPositionCallback(bytes32,bool,bool)": {
        "notice": "GMX callback after position execution"
      },
      "updateDipBuyExecution(uint256,uint256,uint256)": {
        "notice": "Update dip buy position after swap completes"
      }
    },
    "notice": "Main execution contract for cross-chain autonomous shorts via LI.FI + GMX",
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 8,
        "contract": "contracts/NexusVault.sol:NexusVault",
        "label": "_owner",
        "offset": 0,
        "slot": "0",
        "type": "t_address"
      },
      {
        "astId": 266,
        "contract": "contracts/NexusVault.sol:NexusVault",
        "label": "_status",
        "offset": 0,
        "slot": "1",
        "type": "t_uint256"
      },
      {
        "astId": 346,
        "contract": "contracts/NexusVault.sol:NexusVault",
        "label": "agentAddress",
        "offset": 0,
        "slot": "2",
        "type": "t_address"
      },
      {
        "astId": 349,
        "contract": "contracts/NexusVault.sol:NexusVault",
        "label": "signalOracle",
        "offset": 0,
        "slot": "3",
        "type": "t_contract(ISignalOracle)2193"
      },
      {
        "astId": 352,
        "contract": "contracts/NexusVault.sol:NexusVault",
        "label": "positionRegistry",
        "offset": 0,
        "slot": "4",
        "type": "t_contract(IPositionRegistry)2144"
      },
      {
        "astId": 355,
        "contract": "contracts/NexusVault.sol:NexusVault",
        "label": "priceOracle",
        "offset": 0,
        "slot": "5",
        "type": "t_contract(IPriceOracle)2156"
      },
      {
        "astId": 358,
        "contract": "contracts/NexusVault.sol:NexusVault",
        "label": "gmxPositionRouter",
        "offset": 0,
        "slot": "6",
        "type": "t_contract(IGMXPositionRouter)2027"
      },
      {
        "astId": 361,
        "contract": "contracts/NexusVault.sol:NexusVault",
        "label": "gmxVault",
        "offset": 0,
        "slot": "7",
        "type": "t_contract(IGMXVault)2105"
      },
      {
        "astId": 363,
        "contract": "contracts/NexusVault.sol:NexusVault",
        "label": "paused",
        "offset": 20,
        "slot": "7",
        "type": "t_bool"
      },
      {
        "astId": 379,
        "contract": "contracts/NexusVault.sol:NexusVault",
        "label": "approvedTokens",
        "offset": 0,
        "slot": "8",
        "type": "t_mapping(t_address,t_bool)"
      },
      {
        "astId": 383,
        "contract": "contracts/NexusVault.sol:NexusVault",
        "label": "approvedChains",
        "offset": 0,
        "slot": "9",
        "type": "t_mapping(t_string_memory_ptr,t_bool)"
      },
      {
        "astId": 388,
        "contract": "contracts/NexusVault.sol:NexusVault",
        "label": "positions",
        "offset": 0,
        "slot": "10",
        "type": "t_mapping(t_uint256,t_struct(ShortPosition)430_storage)"
      },
      {
        "astId": 390,
        "contract": "contracts/NexusVault.sol:NexusVault",
        "label": "positionCounter",
        "offset": 0,
        "slot": "11",
        "type": "t_uint256"
      },
      {
        "astId": 394,
        "contract": "contracts/NexusVault.sol:NexusVault",
        "label": "gmxKeyToPositionId",
        "offset": 0,
        "slot": "12",
        "type": "t_mapping(t_bytes32,t_uint256)"
      },
      {
        "astId": 399,
        "contract": "contracts/NexusVault.sol:NexusVault",
        "label": "pendingBridgeBack",
        "offset": 0,
        "slot": "13",
        "type": "t_mapping(t_uint256,t_struct(BridgeBackRequest)437_storage)"
      },
      {
        "astId": 404,
        "contract": "contracts/NexusVault.sol:NexusVault",
        "label": "dipBuyPositions",
        "offset": 0,
        "slot": "14",
        "type": "t_mapping(t_uint256,t_struct(DipBuyPosition)460_storage)"
      },
      {
        "astId": 406,
        "contract": "contracts/NexusVault.sol:NexusVault",
        "label": "dipBuyCounter",
        "offset": 0,
        "slot": "15",
        "type": "t_uint256"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_bytes32": {
        "encoding": "inplace",
        "label": "bytes32",
        "numberOfBytes": "32"
      },
      "t_contract(IGMXPositionRouter)2027": {
        "encoding": "inplace",
        "label": "contract IGMXPositionRouter",
        "numberOfBytes": "20"
      },
      "t_contract(IGMXVault)2105": {
        "encoding": "inplace",
        "label": "contract IGMXVault",
        "numberOfBytes": "20"
      },
      "t_contract(IPositionRegistry)2144": {
        "encoding": "inplace",
        "label": "contract IPositionRegistry",
        "numberOfBytes": "20"
      },
      "t_contract(IPriceOracle)2156": {
        "encoding": "inplace",
        "label": "contract IPriceOracle",
        "numberOfBytes": "20"
      },
      "t_contract(ISignalOracle)2193": {
        "encoding": "inplace",
        "label": "contract ISignalOracle",
        "numberOfBytes": "20"
      },
      "t_mapping(t_address,t_bool)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_mapping(t_bytes32,t_uint256)": {
        "encoding": "mapping",
        "key": "t_bytes32",
        "label": "mapping(bytes32 => uint256)",
        "numberOfBytes": "32",
        "value": "t_uint256"
      },
      "t_mapping(t_string_memory_ptr,t_bool)": {
        "encoding": "mapping",
        "key": "t_string_memory_ptr",
        "label": "mapping(string => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_mapping(t_uint256,t_struct(BridgeBackRequest)437_storage)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => struct NexusVault.BridgeBackRequest)",
        "numberOfBytes": "32",
        "value": "t_struct(BridgeBackRequest)437_storage"
      },
      "t_mapping(t_uint256,t_struct(DipBuyPosition)460_storage)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => struct NexusVault.DipBuyPosition)",
        "numberOfBytes": "32",
        "value": "t_struct(DipBuyPosition)460_storage"
      },
      "t_mapping(t_uint256,t_struct(ShortPosition)430_storage)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => struct NexusVault.ShortPosition)",
        "numberOfBytes": "32",
        "value": "t_struct(ShortPosition)430_storage"
      },
      "t_string_memory_ptr": {
        "encoding": "bytes",
        "label": "string",
        "numberOfBytes": "32"
      },
      "t_string_storage": {
        "encoding": "bytes",
        "label": "string",
        "numberOfBytes": "32"
      },
      "t_struct(BridgeBackRequest)437_storage": {
        "encoding": "inplace",
        "label": "struct NexusVault.BridgeBackRequest",
        "members": [
          {
            "astId": 432,
            "contract": "contracts/NexusVault.sol:NexusVault",
            "label": "destinationChain",
            "offset": 0,
            "slot": "0",
            "type": "t_string_storage"
          },
          {
            "astId": 434,
            "contract": "contracts/NexusVault.sol:NexusVault",
            "label": "recipient",
            "offset": 0,
            "slot": "1",
            "type": "t_address"
          },
          {
            "astId": 436,
            "contract": "contracts/NexusVault.sol:NexusVault",
            "label": "timestamp",
            "offset": 0,
            "slot": "2",
            "type": "t_uint256"
          }
        ],
        "numberOfBytes": "96"
      },
      "t_struct(DipBuyPosition)460_storage": {
        "encoding": "inplace",
        "label": "struct NexusVault.DipBuyPosition",
        "members": [
          {
            "astId": 439,
            "contract": "contracts/NexusVault.sol:NexusVault",
            "label": "id",
            "offset": 0,
            "slot": "0",
            "type": "t_uint256"
          },
          {
            "astId": 441,
            "contract": "contracts/NexusVault.sol:NexusVault",
            "label": "token",
            "offset": 0,
            "slot": "1",
            "type": "t_address"
          },
          {
            "astId": 443,
            "contract": "contracts/NexusVault.sol:NexusVault",
            "label": "chain",
            "offset": 0,
            "slot": "2",
            "type": "t_string_storage"
          },
          {
            "astId": 445,
            "contract": "contracts/NexusVault.sol:NexusVault",
            "label": "entryPrice",
            "offset": 0,
            "slot": "3",
            "type": "t_uint256"
          },
          {
            "astId": 447,
            "contract": "contracts/NexusVault.sol:NexusVault",
            "label": "sizeTokens",
            "offset": 0,
            "slot": "4",
            "type": "t_uint256"
          },
          {
            "astId": 449,
            "contract": "contracts/NexusVault.sol:NexusVault",
            "label": "sizeUSDC",
            "offset": 0,
            "slot": "5",
            "type": "t_uint256"
          },
          {
            "astId": 451,
            "contract": "contracts/NexusVault.sol:NexusVault",
            "label": "takeProfitPrice",
            "offset": 0,
            "slot": "6",
            "type": "t_uint256"
          },
          {
            "astId": 453,
            "contract": "contracts/NexusVault.sol:NexusVault",
            "label": "stopLossPrice",
            "offset": 0,
            "slot": "7",
            "type": "t_uint256"
          },
          {
            "astId": 455,
            "contract": "contracts/NexusVault.sol:NexusVault",
            "label": "entryTimestamp",
            "offset": 0,
            "slot": "8",
            "type": "t_uint256"
          },
          {
            "astId": 457,
            "contract": "contracts/NexusVault.sol:NexusVault",
            "label": "isOpen",
            "offset": 0,
            "slot": "9",
            "type": "t_bool"
          },
          {
            "astId": 459,
            "contract": "contracts/NexusVault.sol:NexusVault",
            "label": "sourceChain",
            "offset": 0,
            "slot": "10",
            "type": "t_string_storage"
          }
        ],
        "numberOfBytes": "352"
      },
      "t_struct(ShortPosition)430_storage": {
        "encoding": "inplace",
        "label": "struct NexusVault.ShortPosition",
        "members": [
          {
            "astId": 411,
            "contract": "contracts/NexusVault.sol:NexusVault",
            "label": "id",
            "offset": 0,
            "slot": "0",
            "type": "t_uint256"
          },
          {
            "astId": 413,
            "contract": "contracts/NexusVault.sol:NexusVault",
            "label": "indexToken",
            "offset": 0,
            "slot": "1",
            "type": "t_address"
          },
          {
            "astId": 415,
            "contract": "contracts/NexusVault.sol:NexusVault",
            "label": "collateralUSDC",
            "offset": 0,
            "slot": "2",
            "type": "t_uint256"
          },
          {
            "astId": 417,
            "contract": "contracts/NexusVault.sol:NexusVault",
            "label": "positionSizeUSD",
            "offset": 0,
            "slot": "3",
            "type": "t_uint256"
          },
          {
            "astId": 419,
            "contract": "contracts/NexusVault.sol:NexusVault",
            "label": "leverage",
            "offset": 0,
            "slot": "4",
            "type": "t_uint256"
          },
          {
            "astId": 421,
            "contract": "contracts/NexusVault.sol:NexusVault",
            "label": "entryPrice",
            "offset": 0,
            "slot": "5",
            "type": "t_uint256"
          },
          {
            "astId": 423,
            "contract": "contracts/NexusVault.sol:NexusVault",
            "label": "entryTimestamp",
            "offset": 0,
            "slot": "6",
            "type": "t_uint256"
          },
          {
            "astId": 425,
            "contract": "contracts/NexusVault.sol:NexusVault",
            "label": "gmxPositionKey",
            "offset": 0,
            "slot": "7",
            "type": "t_bytes32"
          },
          {
            "astId": 427,
            "contract": "contracts/NexusVault.sol:NexusVault",
            "label": "isOpen",
            "offset": 0,
            "slot": "8",
            "type": "t_bool"
          },
          {
            "astId": 429,
            "contract": "contracts/NexusVault.sol:NexusVault",
            "label": "sourceChain",
            "offset": 0,
            "slot": "9",
            "type": "t_string_storage"
          }
        ],
        "numberOfBytes": "320"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}